{"version":3,"sources":["jwt/index.js","redux/reducers/userInfoSlice.js","redux/selectors.js","assets/icons/Star.jsx","assets/icons/People.jsx","assets/icons/Edit.jsx","assets/icons/ChevronDown.jsx","pages/Main/Main.jsx","hooks/fetch.hook.js","Components/Header.jsx","redux/reducers/taskSlice.js","redux/reducers/notificationSlice.js","hooks/authFetch.hook.js","Components/BoughtSubject.jsx","Components/ScrollToTop.jsx","Components/Notifications/Notification.jsx","Components/Notifications/Notifications.jsx","Components/Loader.jsx","Components/FormInput.jsx","Components/FormSelect.jsx","Components/FormTextarea.jsx","Components/FormCheckbox.jsx","Components/FormFile.jsx","assets/img/1.webp","pages/Login/Login.jsx","assets/img/2.webp","pages/Signup/Signup.jsx","pages/Home/UserProfile.jsx","pages/Home/TeacherProfileForm.jsx","pages/Home/TeacherProfileSubjectForm.jsx","pages/Home/TeacherProfileSubjectLesson.jsx","pages/Home/TeacherProfileLessonsForm.jsx","pages/Home/TeacherProfileSubjectUser.jsx","pages/Home/TeacherProfileSubject.jsx","pages/Home/TeacherProfile.jsx","pages/Home/Home.jsx","pages/EditProfile/EditForm.jsx","redux/reducers/subjectsSlice.js","pages/EditProfile/TeacherForm.jsx","pages/EditProfile/EditProfile.jsx","util/declOfNum.js","util/countRating.js","util/countStudents.js","util/byField.js","redux/reducers/teachersSlice.js","pages/Teachers/TeacherBig.jsx","pages/Teachers/TeachersFiltration.jsx","pages/Teachers/Teachers.jsx","pages/Teacher/Teacher.jsx","pages/Tasks/TasksAnswers.jsx","pages/Tasks/TasksQuestions.jsx","pages/Tasks/TasksAssignment.jsx","pages/Tasks/Tasks.jsx","pages/Task/TaskForm.jsx","pages/Task/TaskResults.jsx","pages/Task/Task.jsx","pages/PreviewTask/PreviewTask.jsx","App.js","hooks/routes.hook.js","redux/store.js","index.js"],"names":["createAuthProvider","tokenProvider","_token","JSON","parse","localStorage","getItem","getExpirationDate","jwtToken","jwt","atob","split","exp","getToken","a","token","Date","now","fetch","method","headers","body","stringify","refreshToken","then","r","json","updateToken","setToken","setItem","removeItem","isLoggedIn","createTokenProvider","useAuth","authFetch","url","response","data","ok","Error","message","login","newTokens","logout","arr","value","index","indexOf","splice","addItem","push","fetchUserInfo","createAsyncThunk","fetchBoughtCourses","fetchTeacherCourses","mappeedData","courses","map","course","lessons","lesson","courseID","_id","assignments","assignment","usersdata","user","reduce","prev","curr","desc","isBlocked","isPublished","price","subject","teacher","title","lessonsIds","assignmentsIds","usersdataIds","id","teacherCoursesAdapter","createEntityAdapter","selectId","lessonsAdapter","assignmentsAdapter","usersDataAdapter","userInfoSlice","createSlice","name","initialState","info","teacherCourses","getInitialState","error","reducers","updateInfo","state","payload","teacherCourseAdd","addOne","teacherCourseDelete","removeOne","teacherCourseUpdate","updateOne","teacherLessonAdd","entities","lessonID","teacherLessonDelete","teacherAssignmentAdd","assignmentID","teacherAssignmentDelete","teacherUserdataDelete","userdataID","teacherUsersdataDelete","removeMany","userdatasID","length","extraReducers","fulfilled","dateOfBirth","slice","rejected","action","i","j","date","endDate","forEach","setAll","selectAllTeacherCourses","getSelectors","userInfo","selectAll","selectLessonById","selectById","selectUserById","selectAssignmentById","actions","getSubjects","subjects","items","getTask","task","item","getStatistic","statistic","getTeacher","teachers","getUserInfo","getBoughtCourses","getNotifications","notifications","Star","size","color","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","People","d","cx","cy","Edit","ChevronDown","colors","Main","history","useHistory","subjectsGridRef","React","useRef","useEffect","current","childNodes","className","style","backgroundColor","logBtnHandler","regBtnHandler","href","to","onClick","src","alt","ref","flexWrap","useFetch","useState","loading","setLoading","request","useCallback","cb","alert","Header","useSelector","visibleMenu","setVisibleMenu","menuRef","handleOutsideClick","event","contains","target","document","addEventListener","roles","fetchTaskForTeacher","fetchStatisticForTeacher","fetchTaskForStudent","taskSlice","pending","statistics","questions","question","answers","answer","isChecked","notificationSlice","addNote","removeNote","filter","useAuthFetch","dispatch","useDispatch","nanoid","type","result","validationSchema","yup","rating","positive","max","required","text","BoughtSubject","memo","isclose","setIsClose","setHeight","content","taskBtnHandeler","scrollHeight","maxHeight","location","marginTop","initialValues","onSubmit","values","label","ScrollToTop","pathname","useLocation","window","scrollTo","Notification","exit","setExit","setWidth","intervalId","setIntervalId","handleStartTimer","setInterval","clearInterval","handlePauseTimer","setTimeout","onMouseEnter","onMouseLeave","Notifications","notes","note","Loader","FormInput","props","useField","field","meta","htmlFor","touched","FormSelect","FormTextarea","FormCheckbox","FormFile","setFieldValue","avatar","file","setFile","img","setImage","reader","FileReader","onloadend","readAsDataURL","onChange","currentTarget","files","email","password","min","Login","reload","formHandler","html","disabled","isTeacher","username","Signup","UserProfile","coursesIsTrue","TeacherProfileForm","teacherId","teacherSubject","console","log","formData","resetForm","formSubmitHandler","TeacherProfileSubjectForm","publishBtnHandler","changes","unblockeBtnHandler","blockeBtnHandler","deleteBtnHandler","formik","TeacherProfileSubjectLesson","TeacherProfileLessonsForm","TeacherProfileSubjectUser","userID","TeacherProfileSubject","isClose","setisClose","TeacherProfile","teacherCoursesIsTrue","lenght","Home","photo","phone","address","area","city","EditForm","encType","fetchSubjects","subjectsSlice","education","experience","TeacherForm","EditProfile","declOfNum","number","titles","countRating","review","Math","round","countStudents","students","byField","reverse","primer","key","x","b","fetchTeachers","fetchTeacher","fetchTeacherReviews","_","getState","reviews","usersIds","author","ids","newReviews","users","teachersSlice","setTeacher","find","setFilter","sortItems","sort","TeacherBig","profileBtnHandler","TeachersFiltration","filteringHandler","parametersItems","parametersHandler","Teachers","all","filteredArr","Teacher","match","loadTeacherData","Object","keys","params","emptyAnswer","isTrue","TasksAnswers","arrayHelpers","sIndex","alignSelf","remove","emptyQuestion","isMulAnswers","TasksQuestions","helpers","TasksAssignment","openTaskHandeler","isShuffled","allowOvertime","Tasks","taskID","errors","marginBottom","test","sum","TaskForm","setSubmit","nID","qID","TaskResults","results","isCorrect","Task","submit","setResults","maxPoints","PreviewTask","submits","best_students","student","hardest_questions","correct_answers","App","logged","routes","isAuthenticated","path","component","exact","useRoutes","configureStore","reducer","userInfoReducer","subjectsReducer","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.128b30d4.chunk.js","sourcesContent":["export const createTokenProvider = () => {\r\n\tlet _token = JSON.parse(localStorage.getItem('REACT_TOKEN_AUTH')) || null;\r\n\r\n\tconst getExpirationDate = (jwtToken) => {\r\n\t\tif (!jwtToken) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst jwt = JSON.parse(atob(jwtToken.split('.')[1]));\r\n\r\n\t\treturn (jwt && jwt.exp && jwt.exp * 1000) || null;\r\n\t};\r\n\r\n\tconst isExpired = (exp) => {\r\n\t\tif (!exp) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn Date.now() > exp;\r\n\t};\r\n\r\n\tconst getToken = async () => {\r\n\t\tif (!_token.token) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (isExpired(getExpirationDate(_token.token))) {\r\n\t\t\tconst updateToken = await fetch('/api/auth/token', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ refreshToken: _token.refreshToken }),\r\n\t\t\t}).then((r) => r.json());\r\n\r\n\t\t\tsetToken({\r\n\t\t\t\ttoken: updateToken.token,\r\n\t\t\t\trefreshToken: _token.refreshToken,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn _token && _token.token;\r\n\t};\r\n\r\n\tconst isLoggedIn = () => {\r\n\t\treturn !!_token;\r\n\t};\r\n\r\n\tconst setToken = (token) => {\r\n\t\tif (token) {\r\n\t\t\tlocalStorage.setItem('REACT_TOKEN_AUTH', JSON.stringify(token));\r\n\t\t} else {\r\n\t\t\tlocalStorage.removeItem('REACT_TOKEN_AUTH');\r\n\t\t}\r\n\t\t_token = token;\r\n\t};\r\n\r\n\treturn {\r\n\t\tgetToken,\r\n\t\tisLoggedIn,\r\n\t\tsetToken,\r\n\t};\r\n};\r\n\r\nexport const createAuthProvider = () => {\r\n\tconst tokenProvider = createTokenProvider();\r\n\r\n\tconst login = (newTokens) => {\r\n\t\ttokenProvider.setToken(newTokens);\r\n\t};\r\n\r\n\tconst logout = () => {\r\n\t\ttokenProvider.setToken(null);\r\n\t};\r\n\r\n\tconst authFetch = async (url, method = 'GET', body = null, headers = {}) => {\r\n\t\tconst token = await tokenProvider.getToken();\r\n\r\n\t\theaders['Authorization'] = `Bearer ${token}`;\r\n\r\n\t\tif (body) {\r\n\t\t\tbody = JSON.stringify(body);\r\n\t\t\theaders['Content-Type'] = 'application/json';\r\n\t\t}\r\n\r\n\t\tconst response = await fetch(url, { method, body, headers });\r\n\t\tconst data = await response.json();\r\n\r\n\t\tif (!response.ok) {\r\n\t\t\tthrow new Error(data.message || 'Что-то пошло не так');\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tconst useAuth = () => {\r\n\t\treturn tokenProvider.isLoggedIn();\r\n\t};\r\n\r\n\treturn {\r\n\t\tuseAuth,\r\n\t\tauthFetch,\r\n\t\tlogin,\r\n\t\tlogout,\r\n\t};\r\n};\r\n","import {\r\n\tcreateAsyncThunk,\r\n\tcreateEntityAdapter,\r\n\tcreateSlice,\r\n} from '@reduxjs/toolkit';\r\nimport { createAuthProvider } from '../../jwt';\r\n\r\nconst { authFetch } = createAuthProvider();\r\n\r\nconst removeItem = (arr, value) => {\r\n\tconst index = arr.indexOf(value);\r\n\tif (index > -1) {\r\n\t\tarr.splice(index, 1);\r\n\t}\r\n};\r\n\r\nconst removeItems = (arr) => {\r\n\tarr.length = 0;\r\n};\r\n\r\nconst addItem = (arr, value) => {\r\n\tarr.push(value);\r\n};\r\n\r\nexport const fetchUserInfo = createAsyncThunk(\r\n\t'userInfo/fetchUserInfo',\r\n\tasync () => {\r\n\t\tconst data = await authFetch('/api/auth/userdata');\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const fetchBoughtCourses = createAsyncThunk(\r\n\t'userInfo/fetchBoughtCourses',\r\n\tasync () => {\r\n\t\tconst data = await authFetch('/api/school/usercourses/');\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const fetchTeacherCourses = createAsyncThunk(\r\n\t'userInfo/fetchTeacherCourses',\r\n\tasync () => {\r\n\t\tconst data = await authFetch('/api/school/courses/');\r\n\r\n\t\tconst mappeedData = data.courses.map((course) => ({\r\n\t\t\t...course,\r\n\t\t\tlessons: course.lessons.map((lesson) => ({\r\n\t\t\t\t...lesson,\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t})),\r\n\t\t\tassignments: course.assignments.map((assignment) => ({\r\n\t\t\t\t...assignment,\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t})),\r\n\t\t\tusersdata: course.usersdata.map((user) => ({\r\n\t\t\t\t...user,\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t})),\r\n\t\t}));\r\n\r\n\t\tconst lessons = mappeedData.reduce(\r\n\t\t\t(prev, curr) => [...prev, ...curr.lessons],\r\n\t\t\t[]\r\n\t\t);\r\n\r\n\t\tconst assignments = mappeedData.reduce(\r\n\t\t\t(prev, curr) => [...prev, ...curr.assignments],\r\n\t\t\t[]\r\n\t\t);\r\n\r\n\t\tconst usersdata = mappeedData.reduce(\r\n\t\t\t(prev, curr) => [...prev, ...curr.usersdata],\r\n\t\t\t[]\r\n\t\t);\r\n\r\n\t\tconst courses = mappeedData.map(\r\n\t\t\t({\r\n\t\t\t\t_id,\r\n\t\t\t\tdesc,\r\n\t\t\t\tisBlocked,\r\n\t\t\t\tisPublished,\r\n\t\t\t\tprice,\r\n\t\t\t\tsubject,\r\n\t\t\t\tteacher,\r\n\t\t\t\ttitle,\r\n\t\t\t}) => ({\r\n\t\t\t\t_id,\r\n\t\t\t\tdesc,\r\n\t\t\t\tisBlocked,\r\n\t\t\t\tisPublished,\r\n\t\t\t\tprice,\r\n\t\t\t\tsubject,\r\n\t\t\t\tteacher,\r\n\t\t\t\ttitle,\r\n\t\t\t\tlessonsIds: lessons.reduce((prev, curr) => {\r\n\t\t\t\t\tif (curr.courseID === _id) {\r\n\t\t\t\t\t\treturn [...prev, curr._id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn prev;\r\n\t\t\t\t}, []),\r\n\t\t\t\tassignmentsIds: assignments.reduce((prev, curr) => {\r\n\t\t\t\t\tif (curr.courseID === _id) {\r\n\t\t\t\t\t\treturn [...prev, curr._id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn prev;\r\n\t\t\t\t}, []),\r\n\t\t\t\tusersdataIds: usersdata.reduce((prev, curr) => {\r\n\t\t\t\t\tif (curr.courseID === _id) {\r\n\t\t\t\t\t\treturn [...prev, curr.id];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn prev;\r\n\t\t\t\t}, []),\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\treturn { courses, lessons, assignments, usersdata };\r\n\t}\r\n);\r\n\r\nexport const teacherCoursesAdapter = createEntityAdapter({\r\n\tselectId: (course) => course._id,\r\n});\r\n\r\nexport const lessonsAdapter = createEntityAdapter({\r\n\tselectId: (lesson) => lesson._id,\r\n});\r\n\r\nexport const assignmentsAdapter = createEntityAdapter({\r\n\tselectId: (assignment) => assignment._id,\r\n});\r\n\r\nexport const usersDataAdapter = createEntityAdapter({\r\n\tselectId: (user) => user.id,\r\n});\r\n\r\nexport const userInfoSlice = createSlice({\r\n\tname: 'userInfo',\r\n\tinitialState: {\r\n\t\tinfo: {},\r\n\t\tcourses: [],\r\n\t\tteacherCourses: {\r\n\t\t\tcourses: teacherCoursesAdapter.getInitialState(),\r\n\t\t\tlessons: lessonsAdapter.getInitialState(),\r\n\t\t\tassignments: assignmentsAdapter.getInitialState(),\r\n\t\t\tusersdata: usersDataAdapter.getInitialState(),\r\n\t\t},\r\n\t\terror: null,\r\n\t},\r\n\treducers: {\r\n\t\tupdateInfo: (state, { payload }) => {\r\n\t\t\tstate.info = { ...state.info, ...payload };\r\n\t\t},\r\n\r\n\t\tteacherCourseAdd: (state, payload) => {\r\n\t\t\tteacherCoursesAdapter.addOne(state.teacherCourses.courses, payload);\r\n\t\t},\r\n\t\tteacherCourseDelete: (state, payload) => {\r\n\t\t\tteacherCoursesAdapter.removeOne(state.teacherCourses.courses, payload);\r\n\t\t},\r\n\t\tteacherCourseUpdate: (state, payload) => {\r\n\t\t\tteacherCoursesAdapter.updateOne(state.teacherCourses.courses, payload);\r\n\t\t},\r\n\r\n\t\tteacherLessonAdd: (state, { payload }) => {\r\n\t\t\tlessonsAdapter.addOne(state.teacherCourses.lessons, payload.data);\r\n\t\t\taddItem(\r\n\t\t\t\tstate.teacherCourses.courses.entities[payload.courseID].lessonsIds,\r\n\t\t\t\tpayload.lessonID\r\n\t\t\t);\r\n\t\t},\r\n\t\tteacherLessonDelete: (state, { payload }) => {\r\n\t\t\tlessonsAdapter.removeOne(state.teacherCourses.lessons, payload.lessonID);\r\n\t\t\tremoveItem(\r\n\t\t\t\tstate.teacherCourses.courses.entities[payload.courseID].lessonsIds,\r\n\t\t\t\tpayload.lessonID\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tteacherAssignmentAdd: (state, { payload }) => {\r\n\t\t\tassignmentsAdapter.addOne(state.teacherCourses.assignments, payload.data);\r\n\t\t\taddItem(\r\n\t\t\t\tstate.teacherCourses.courses.entities[payload.courseID].assignmentsIds,\r\n\t\t\t\tpayload.assignmentID\r\n\t\t\t);\r\n\t\t},\r\n\t\tteacherAssignmentDelete: (state, { payload }) => {\r\n\t\t\tassignmentsAdapter.removeOne(\r\n\t\t\t\tstate.teacherCourses.assignments,\r\n\t\t\t\tpayload.assignmentID\r\n\t\t\t);\r\n\t\t\tremoveItem(\r\n\t\t\t\tstate.teacherCourses.courses.entities[payload.courseID].assignmentsIds,\r\n\t\t\t\tpayload.assignmentID\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tteacherUserdataDelete: (state, { payload }) => {\r\n\t\t\tusersDataAdapter.removeOne(\r\n\t\t\t\tstate.teacherCourses.usersdata,\r\n\t\t\t\tpayload.userdataID\r\n\t\t\t);\r\n\t\t\tremoveItem(\r\n\t\t\t\tstate.teacherCourses.courses.entities[payload.courseID].usersdataIds,\r\n\t\t\t\tpayload.userdataID\r\n\t\t\t);\r\n\t\t},\r\n\t\tteacherUsersdataDelete: (state, { payload }) => {\r\n\t\t\tusersDataAdapter.removeMany(\r\n\t\t\t\tstate.teacherCourses.usersdata,\r\n\t\t\t\tpayload.userdatasID\r\n\t\t\t);\r\n\t\t\tremoveItems(\r\n\t\t\t\tstate.teacherCourses.courses.entities[payload.courseID].usersdataIds\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\textraReducers: {\r\n\t\t[fetchUserInfo.fulfilled]: (state, { payload }) => {\r\n\t\t\tpayload.dateOfBirth = payload.dateOfBirth.slice(0, 10);\r\n\t\t\tstate.info = payload;\r\n\t\t},\r\n\t\t[fetchUserInfo.rejected]: (state, action) => {\r\n\t\t\tstate.error = action.error;\r\n\t\t},\r\n\r\n\t\t[fetchBoughtCourses.fulfilled]: (state, { payload }) => {\r\n\t\t\tfor (let i = 0; i < payload?.courses?.length; i++) {\r\n\t\t\t\tfor (let j = 0; j < payload.courses[i].lessons.length; j++) {\r\n\t\t\t\t\tpayload.courses[i].lessons[j].date = payload.courses[i].lessons[\r\n\t\t\t\t\t\tj\r\n\t\t\t\t\t].date.slice(0, 10);\r\n\t\t\t\t\tpayload.courses[i].lessons[j].endDate = payload.courses[i].lessons[\r\n\t\t\t\t\t\tj\r\n\t\t\t\t\t].endDate.slice(0, 10);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tstate.courses = payload.courses;\r\n\t\t},\r\n\t\t[fetchBoughtCourses.rejected]: (state, action) => {\r\n\t\t\tstate.error = action.error;\r\n\t\t},\r\n\r\n\t\t[fetchTeacherCourses.fulfilled]: (state, { payload }) => {\r\n\t\t\tpayload.lessons.forEach((lesson) => {\r\n\t\t\t\tlesson.date = lesson.date.slice(0, 10);\r\n\t\t\t\tlesson.endDate = lesson.endDate.slice(0, 10);\r\n\t\t\t});\r\n\r\n\t\t\tteacherCoursesAdapter.setAll(\r\n\t\t\t\tstate.teacherCourses.courses,\r\n\t\t\t\tpayload.courses\r\n\t\t\t);\r\n\r\n\t\t\tlessonsAdapter.setAll(state.teacherCourses.lessons, payload.lessons);\r\n\r\n\t\t\tassignmentsAdapter.setAll(\r\n\t\t\t\tstate.teacherCourses.assignments,\r\n\t\t\t\tpayload.assignments\r\n\t\t\t);\r\n\r\n\t\t\tusersDataAdapter.setAll(\r\n\t\t\t\tstate.teacherCourses.usersdata,\r\n\t\t\t\tpayload.usersdata\r\n\t\t\t);\r\n\t\t},\r\n\t\t[fetchTeacherCourses.rejected]: (state, action) => {\r\n\t\t\tstate.error = action.error;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { selectAll: selectAllTeacherCourses } =\r\n\tteacherCoursesAdapter.getSelectors(\r\n\t\t(state) => state.userInfo.teacherCourses.courses\r\n\t);\r\n\r\nexport const { selectById: selectLessonById } =\r\n\tteacherCoursesAdapter.getSelectors(\r\n\t\t(state) => state.userInfo.teacherCourses.lessons\r\n\t);\r\n\r\nexport const { selectById: selectUserById } =\r\n\tteacherCoursesAdapter.getSelectors(\r\n\t\t(state) => state.userInfo.teacherCourses.usersdata\r\n\t);\r\n\r\nexport const { selectById: selectAssignmentById } =\r\n\tassignmentsAdapter.getSelectors(\r\n\t\t(state) => state.userInfo.teacherCourses.assignments\r\n\t);\r\n\r\nexport const {\r\n\tupdateInfo,\r\n\tteacherCourseAdd,\r\n\tteacherCourseDelete,\r\n\tteacherCourseUpdate,\r\n\tteacherLessonAdd,\r\n\tteacherLessonDelete,\r\n\tteacherAssignmentAdd,\r\n\tteacherAssignmentDelete,\r\n\tteacherUserdataDelete,\r\n\tteacherUsersdataDelete,\r\n} = userInfoSlice.actions;\r\n\r\nexport default userInfoSlice.reducer;\r\n","// subjectSlice\r\nexport const getSubjects = (state) => state.subjects.items;\r\n\r\n// taskSlice\r\nexport const getTask = (state) => state.task.item;\r\nexport const getStatistic = (state) => state.task.statistic;\r\n\r\n// teachersSlice\r\nexport const getTeachers = (state) => state.teachers.items;\r\nexport const getTeacher = (state) => state.teachers.teacher;\r\nexport const getTeachersFilter = (state) => state.teachers.filter;\r\n\r\n// userInfoSlice\r\nexport const getUserInfo = (state) => state.userInfo.info;\r\nexport const getBoughtCourses = (state) => state.userInfo.courses;\r\n\r\n// notificationSlice\r\nexport const getNotifications = (state) => state.notifications;\r\n","const Star = ({ size = 24, color = '#000000' }) => (\r\n\t<svg\r\n\t\txmlns='http://www.w3.org/2000/svg'\r\n\t\twidth={size}\r\n\t\theight={size}\r\n\t\tviewBox='0 0 24 24'\r\n\t\tfill='none'\r\n\t\tstroke={color}\r\n\t\tstrokeWidth='2'\r\n\t\tstrokeLinecap='round'\r\n\t\tstrokeLinejoin='round'>\r\n\t\t<polygon points='12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2'></polygon>\r\n\t</svg>\r\n);\r\nexport default Star;\r\n","const People = ({ size = 24, color = '#000000' }) => (\r\n\t<svg\r\n\t\txmlns='http://www.w3.org/2000/svg'\r\n\t\twidth={size}\r\n\t\theight={size}\r\n\t\tviewBox='0 0 24 24'\r\n\t\tfill='none'\r\n\t\tstroke={color}\r\n\t\tstrokeWidth='2'\r\n\t\tstrokeLinecap='round'\r\n\t\tstrokeLinejoin='round'>\r\n\t\t<path d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'></path>\r\n\t\t<circle cx='12' cy='7' r='4'></circle>\r\n\t</svg>\r\n);\r\nexport default People;\r\n","const Edit = ({ size = 24, color = '#000000' }) => (\r\n\t<svg\r\n\t\txmlns='http://www.w3.org/2000/svg'\r\n\t\twidth={size}\r\n\t\theight={size}\r\n\t\tviewBox='0 0 24 24'\r\n\t\tfill='none'\r\n\t\tstroke={color}\r\n\t\tstrokeWidth='2'\r\n\t\tstrokeLinecap='round'\r\n\t\tstrokeLinejoin='round'>\r\n\t\t<path d='M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34'></path>\r\n\t\t<polygon points='18 2 22 6 12 16 8 16 8 12 18 2'></polygon>\r\n\t</svg>\r\n);\r\nexport default Edit;\r\n","const ChevronDown = ({ size = 16, color = '#000000' }) => (\r\n\t<svg\r\n\t\txmlns='http://www.w3.org/2000/svg'\r\n\t\twidth={size}\r\n\t\theight={size}\r\n\t\tviewBox='0 0 24 16'\r\n\t\tfill='none'\r\n\t\tstroke={color}\r\n\t\tstrokeWidth='2'\r\n\t\tstrokeLinecap='round'\r\n\t\tstrokeLinejoin='round'>\r\n\t\t<path d='M6 9l6 6 6-6' />\r\n\t</svg>\r\n);\r\nexport default ChevronDown;\r\n","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { People, Star } from '../../assets/icons';\r\n\r\nconst colors = [\r\n\t'rgba(0, 255, 8, .5)',\r\n\t'rgba(255, 213, 0, .5)',\r\n\t'rgba(0, 255, 247, .5)',\r\n\t'rgba(255, 0, 0, .5)',\r\n\t'rgba(119, 0, 255, .5)',\r\n\t'rgba(255, 0, 196, .5)',\r\n\t'rgba(153, 255, 0, .5)',\r\n\t'rgba(246, 255, 0, .5)',\r\n\t'rgba(255, 146, 0, .5)',\r\n\t'rgba(145, 145, 145, .5)',\r\n\t'rgba(0, 0, 255, .5)',\r\n\t'rgba(255, 0, 70, .5)',\r\n];\r\n\r\nexport const Main = () => {\r\n\tconst history = useHistory();\r\n\tconst subjectsGridRef = React.useRef();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsubjectsGridRef.current.childNodes.forEach((item, index) => {\r\n\t\t\tif (item.childNodes[0].className === 'lp-subjects__circle') {\r\n\t\t\t\titem.childNodes[0].style.backgroundColor = colors[index - 1];\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst logBtnHandler = () => {\r\n\t\thistory.push('login');\r\n\t};\r\n\r\n\tconst regBtnHandler = () => {\r\n\t\thistory.push('signup');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='lp'>\r\n\t\t\t<div className='lp-intro'>\r\n\t\t\t\t<div className='lp-intro__skewed'></div>\r\n\r\n\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t<div className='lp-row'>\r\n\t\t\t\t\t\t<header className='lp-header'>\r\n\t\t\t\t\t\t\t<div className='lp-header__group'>\r\n\t\t\t\t\t\t\t\t<div className='lp-header__logo'>BestTutor</div>\r\n\t\t\t\t\t\t\t\t<nav className='lp-header__nav'>\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#subjects'>Предметы</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#teachers'>Учителя</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#citys'>Города</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#offers'>Стать учителем</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-header__enter'>\r\n\t\t\t\t\t\t\t\t<Link to='/login'>Войти</Link> /{' '}\r\n\t\t\t\t\t\t\t\t<Link to='/signup'>Зарегистрироваться</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<section className='lp-about'>\r\n\t\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t\t<div className='lp-about__row'>\r\n\t\t\t\t\t\t\t<div className='lp-about__group'>\r\n\t\t\t\t\t\t\t\t<h1 className='lp-about__title'>\r\n\t\t\t\t\t\t\t\t\tНайди лучшего учителя для своего ребёнка\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<p className='lp-about__text'>\r\n\t\t\t\t\t\t\t\t\tПолучай квалифицированную помощь <br /> онлайн или на дому\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<button onClick={logBtnHandler} className='btn'>\r\n\t\t\t\t\t\t\t\t\tНайти учителя\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-about__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/main.webp'\r\n\t\t\t\t\t\t\t\t\talt='Онлайн обучение'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\r\n\t\t\t<section className='lp-steps'>\r\n\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t<div className='lp-steps__row'>\r\n\t\t\t\t\t\t<div className='lp-steps__group'>\r\n\t\t\t\t\t\t\t<h3 className='lp-steps__title'>Найди учителя</h3>\r\n\t\t\t\t\t\t\t<p className='lp-steps__text'>\r\n\t\t\t\t\t\t\t\tНайди подходящего учителя <br /> для себя благодаря удобному\r\n\t\t\t\t\t\t\t\tпоиску.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='lp-steps__group'>\r\n\t\t\t\t\t\t\t<h3 className='lp-steps__title'>Выбери время</h3>\r\n\t\t\t\t\t\t\t<p className='lp-steps__text'>\r\n\t\t\t\t\t\t\t\tВыбери подходящие время\r\n\t\t\t\t\t\t\t\t<br /> для занятий и согласуй его с учителем.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='lp-steps__group'>\r\n\t\t\t\t\t\t\t<h3 className='lp-steps__title'>Начни учиться</h3>\r\n\t\t\t\t\t\t\t<p className='lp-steps__text'>\r\n\t\t\t\t\t\t\t\tПроведи пробный урок и начни <br /> заниматься на постоянной\r\n\t\t\t\t\t\t\t\tоснове.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section id='subjects' className='lp-subjects'>\r\n\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t<div className='lp-row'>\r\n\t\t\t\t\t\t<div ref={subjectsGridRef} className='lp-subjects__grid'>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__info'>\r\n\t\t\t\t\t\t\t\t<h3 className='lp-subjects__title'>Выбери предмет для себя</h3>\r\n\t\t\t\t\t\t\t\t<p className='lp-subjects__text'>\r\n\t\t\t\t\t\t\t\t\tБольше 10к учеников занимается у нас с лучшими учителями в\r\n\t\t\t\t\t\t\t\t\tсвоем деле. От Математики до Английского, от Истории до\r\n\t\t\t\t\t\t\t\t\tбиологии, от программирования до пения, у нас есть все. Найди\r\n\t\t\t\t\t\t\t\t\tсвоего учителя.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<button onClick={logBtnHandler} className='btn'>\r\n\t\t\t\t\t\t\t\t\tНайти учителя\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Музыка</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>35 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Математика</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>15 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Рисование</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>6 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Японский</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>18 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>История</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>15 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Русский</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>26 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Биология</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>52 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>География</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>12 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Химия</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>30 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Геометрия</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>10 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Литература</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>32 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-subjects__item lp-subjects__item_last'>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__circle'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__name'>Пение</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-subjects__teacher'>15 учителей</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section id='teachers' className='lp-teachers'>\r\n\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t<div className='lp-row'>\r\n\t\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t\t<h3 className='lp-teachers__title'>Наши учителя</h3>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='col-xl-12'>\r\n\t\t\t\t\t\t\t<div className='lp-teachers__container'>\r\n\t\t\t\t\t\t\t\t<div className='lp-teachers__item'>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__img'>\r\n\t\t\t\t\t\t\t\t\t\t\t<img src='img/teachers/1.webp' alt='Светлана Шевцова' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__info'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='lp-teachers__name'>Светлана Шевцова</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='lp-teachers__city'>Днепр</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__desc'>\r\n\t\t\t\t\t\t\t\t\t\tРепетитор по Норвежскому языку. Опыт преподавания\r\n\t\t\t\t\t\t\t\t\t\tНорвежского языка - 8 лет. Занимаюсь языком 10 лет. Училась\r\n\t\t\t\t\t\t\t\t\t\tв Норвегии 3 год. Свободно владею Норвежским языком. Работаю\r\n\t\t\t\t\t\t\t\t\t\tв Норвежской фирме, каждый день использую язык\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subject'>Норвежский</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='lp-teachers__group'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__students'>\r\n\t\t\t\t\t\t\t\t\t\t\t<People size={16} /> 15 учеников\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subjects'>3 курса</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__points'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Star size={16} />9\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__reviews'>20 отзывов</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-teachers__item'>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__img'>\r\n\t\t\t\t\t\t\t\t\t\t\t<img src='img/teachers/2.webp' alt='Светлана Шевцова' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__info'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='lp-teachers__name'>Евгений Голота</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='lp-teachers__city'>Киев</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__desc'>\r\n\t\t\t\t\t\t\t\t\t\tРепетитор по Норвежскому языку. Опыт преподавания\r\n\t\t\t\t\t\t\t\t\t\tНорвежского языка - 8 лет. Занимаюсь языком 10 лет. Училась\r\n\t\t\t\t\t\t\t\t\t\tв Норвегии 3 год. Свободно владею Норвежским языком. Работаю\r\n\t\t\t\t\t\t\t\t\t\tв Норвежской фирме, каждый день использую язык\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subject'>Арабский</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='lp-teachers__group'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__students'>\r\n\t\t\t\t\t\t\t\t\t\t\t<People size={16} /> 56 учеников\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subjects'>10 курсов</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__points'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Star size={16} />\r\n\t\t\t\t\t\t\t\t\t\t\t9.5\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__reviews'>103 отзыва</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-teachers__item'>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__img'>\r\n\t\t\t\t\t\t\t\t\t\t\t<img src='img/teachers/3.webp' alt='Светлана Шевцова' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__info'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='lp-teachers__name'>Михаил Мельник</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='lp-teachers__city'>Одесса</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__desc'>\r\n\t\t\t\t\t\t\t\t\t\tРепетитор по Норвежскому языку. Опыт преподавания\r\n\t\t\t\t\t\t\t\t\t\tНорвежского языка - 8 лет. Занимаюсь языком 10 лет. Училась\r\n\t\t\t\t\t\t\t\t\t\tв Норвегии 3 год. Свободно владею Норвежским языком. Работаю\r\n\t\t\t\t\t\t\t\t\t\tв Норвежской фирме, каждый день использую язык\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subject'>Немецкий</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='lp-teachers__group'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__students'>\r\n\t\t\t\t\t\t\t\t\t\t\t<People size={16} /> 39 ученика\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subjects'>8 курсов</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__points'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Star size={16} />\r\n\t\t\t\t\t\t\t\t\t\t\t7.8\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__reviews'>29 отзывов</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-teachers__item'>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__img'>\r\n\t\t\t\t\t\t\t\t\t\t\t<img src='img/teachers/4.webp' alt='Светлана Шевцова' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__info'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='lp-teachers__name'>Валерия Коваленко</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='lp-teachers__city'>Харьков</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__desc'>\r\n\t\t\t\t\t\t\t\t\t\tРепетитор по Норвежскому языку. Опыт преподавания\r\n\t\t\t\t\t\t\t\t\t\tНорвежского языка - 8 лет. Занимаюсь языком 10 лет. Училась\r\n\t\t\t\t\t\t\t\t\t\tв Норвегии 3 год. Свободно владею Норвежским языком. Работаю\r\n\t\t\t\t\t\t\t\t\t\tв Норвежской фирме, каждый день использую язык\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subject'>Украинский</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='lp-teachers__group'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__students'>\r\n\t\t\t\t\t\t\t\t\t\t\t<People size={16} /> 3 ученика\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subjects'>2 курса</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__points'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Star size={16} />8\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__reviews'>10 отзывов</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-teachers__item'>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__img'>\r\n\t\t\t\t\t\t\t\t\t\t\t<img src='img/teachers/5.webp' alt='Светлана Шевцова' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__info'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='lp-teachers__name'>Дмитрий Лозенко</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='lp-teachers__city'>Донецк</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__desc'>\r\n\t\t\t\t\t\t\t\t\t\tРепетитор по Норвежскому языку. Опыт преподавания\r\n\t\t\t\t\t\t\t\t\t\tНорвежского языка - 8 лет. Занимаюсь языком 10 лет. Училась\r\n\t\t\t\t\t\t\t\t\t\tв Норвегии 3 год. Свободно владею Норвежским языком. Работаю\r\n\t\t\t\t\t\t\t\t\t\tв Норвежской фирме, каждый день использую язык\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subject'>Корейский</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='lp-teachers__group'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__students'>\r\n\t\t\t\t\t\t\t\t\t\t\t<People size={16} /> 189 ученика\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subjects'>27 курсов</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__points'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Star size={16} />\r\n\t\t\t\t\t\t\t\t\t\t\t10\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__reviews'>198 отзывов</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='lp-teachers__item'>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__img'>\r\n\t\t\t\t\t\t\t\t\t\t\t<img src='img/teachers/6.webp' alt='Светлана Шевцова' />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teachers__info'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className='lp-teachers__name'>Наталья Ермакова</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='lp-teachers__city'>Днепр</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teachers__desc'>\r\n\t\t\t\t\t\t\t\t\t\tРепетитор по Норвежскому языку. Опыт преподавания\r\n\t\t\t\t\t\t\t\t\t\tНорвежского языка - 8 лет. Занимаюсь языком 10 лет. Училась\r\n\t\t\t\t\t\t\t\t\t\tв Норвегии 3 год. Свободно владею Норвежским языком. Работаю\r\n\t\t\t\t\t\t\t\t\t\tв Норвежской фирме, каждый день использую язык\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subject'>Испанский</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='lp-teachers__group'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__students'>\r\n\t\t\t\t\t\t\t\t\t\t\t<People size={16} /> 84 ученика\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__subjects'>13 курсов</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__points'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Star size={16} />\r\n\t\t\t\t\t\t\t\t\t\t\t7.8\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='lp-teacher__reviews'>57 отзывов</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section id='citys' className='lp-citys'>\r\n\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t<div className='lp-row'>\r\n\t\t\t\t\t\t<div className='lp-citys__grid'>\r\n\t\t\t\t\t\t\t<div className='lp-citys__info'>\r\n\t\t\t\t\t\t\t\t<h3 className='lp-citys__title'>\r\n\t\t\t\t\t\t\t\t\tНайди учителя в своем городе\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__text'>\r\n\t\t\t\t\t\t\t\t\tВыбери город и начни поиск учителя рядом с собой. Запишись к\r\n\t\t\t\t\t\t\t\t\tучителю который тебе подошел больше всего и проводи частные\r\n\t\t\t\t\t\t\t\t\tуроки на дому.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<button onClick={logBtnHandler} className='btn'>\r\n\t\t\t\t\t\t\t\t\tНайти учителя\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-citys__item'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-citys__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/citys/1.webp'\r\n\t\t\t\t\t\t\t\t\talt='Львов'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<h5 className='lp-citys__name'>Львов</h5>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__count'>126 учителей</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-citys__item'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-citys__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/citys/2.webp'\r\n\t\t\t\t\t\t\t\t\talt='Киев'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<h5 className='lp-citys__name'>Киев</h5>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__count'>230 учителей</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-citys__item'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-citys__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/citys/3.webp'\r\n\t\t\t\t\t\t\t\t\talt='Харьков'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<h5 className='lp-citys__name'>Харьков</h5>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__count'>185 учителей</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-citys__item'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-citys__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/citys/4.webp'\r\n\t\t\t\t\t\t\t\t\talt='Донецк'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<h5 className='lp-citys__name'>Донецк</h5>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__count'>290 учителей</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-citys__item'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-citys__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/citys/5.webp'\r\n\t\t\t\t\t\t\t\t\talt='Днепр'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<h5 className='lp-citys__name'>Днепр</h5>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__count'>110 учителей</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-citys__item'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-citys__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/citys/6.webp'\r\n\t\t\t\t\t\t\t\t\talt='Одесса'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<h5 className='lp-citys__name'>Одесса</h5>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__count'>298 учителей</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-citys__item lp-citys__item_last'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='lp-citys__img'\r\n\t\t\t\t\t\t\t\t\tsrc='img/citys/7.webp'\r\n\t\t\t\t\t\t\t\t\talt='Мукачево'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<h5 className='lp-citys__name'>Мукачево</h5>\r\n\t\t\t\t\t\t\t\t<p className='lp-citys__count'>546 учителей</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section id='offers' className='lp-offers'>\r\n\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t<div className='lp-row'>\r\n\t\t\t\t\t\t<h3 className='lp-offers__title'>Присоединяйся к нам сегодня</h3>\r\n\r\n\t\t\t\t\t\t<div className='lp-offers__container'>\r\n\t\t\t\t\t\t\t<div className='lp-offers__card'>\r\n\t\t\t\t\t\t\t\t<div className='lp-offers__circle lp-offers__circle_first'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-offers__name'>Стань учеником</div>\r\n\t\t\t\t\t\t\t\t<ul className='lp-offers__list'>\r\n\t\t\t\t\t\t\t\t\t<li>Учи любой предмет в любое время</li>\r\n\t\t\t\t\t\t\t\t\t<li>Учись онлайн или на дому</li>\r\n\t\t\t\t\t\t\t\t\t<li>Найди лучшего учителя для себя</li>\r\n\t\t\t\t\t\t\t\t\t<li>Управляй своим расписанием</li>\r\n\t\t\t\t\t\t\t\t\t<li>Удобная связь с учителем</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<button onClick={regBtnHandler} className='btn lp-offers__btn'>\r\n\t\t\t\t\t\t\t\t\tЗарегестрироваться\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-offers__card'>\r\n\t\t\t\t\t\t\t\t<div className='lp-offers__circle lp-offers__circle_second'></div>\r\n\t\t\t\t\t\t\t\t<div className='lp-offers__name'>Стань учителем</div>\r\n\t\t\t\t\t\t\t\t<ul className='lp-offers__list'>\r\n\t\t\t\t\t\t\t\t\t<li>Личный кабинет</li>\r\n\t\t\t\t\t\t\t\t\t<li>Детальное управление профилем</li>\r\n\t\t\t\t\t\t\t\t\t<li>Возможность заниматься с большим количеством учеников</li>\r\n\t\t\t\t\t\t\t\t\t<li>Быстрая оплата за уроки</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<button onClick={regBtnHandler} className='btn lp-offers__btn'>\r\n\t\t\t\t\t\t\t\t\tЗарегестрироваться\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\r\n\t\t\t<footer className='lp-footer'>\r\n\t\t\t\t<div className='lp-container'>\r\n\t\t\t\t\t<div className='lp-row'>\r\n\t\t\t\t\t\t<header className='lp-header'>\r\n\t\t\t\t\t\t\t<div className='lp-header__group'>\r\n\t\t\t\t\t\t\t\t<div className='lp-header__logo'>BestTutor</div>\r\n\t\t\t\t\t\t\t\t<nav className='lp-header__nav'>\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#subjects'>Предметы</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#teachers'>Учителя</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#citys'>Города</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href='#offers'>Стать учителем</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='lp-header__enter'>\r\n\t\t\t\t\t\t\t\t<Link to='/login'>Войти</Link> /{' '}\r\n\t\t\t\t\t\t\t\t<Link to='/signup'>Зарегистрироваться</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</footer>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\n\r\nexport const useFetch = () => {\r\n\tconst [loading, setLoading] = React.useState(false);\r\n\r\n\tconst request = React.useCallback(\r\n\t\tasync (url, method = 'GET', body = null, headers = {}, cb) => {\r\n\t\t\tsetLoading(true);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (body) {\r\n\t\t\t\t\tbody = JSON.stringify(body);\r\n\t\t\t\t\theaders['Content-Type'] = 'application/json';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst response = await fetch(url, { method, body, headers });\r\n\t\t\t\tconst data = await response.json();\r\n\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(data.message || 'Что-то пошло не так');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetLoading(false);\r\n\r\n\t\t\t\tif (cb) cb(data);\r\n\r\n\t\t\t\treturn data;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\talert(err.message);\r\n\r\n\t\t\t\treturn err;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn { loading, request };\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUserInfo } from '../redux/selectors';\r\nimport { createAuthProvider } from '../jwt';\r\n\r\nconst Header = () => {\r\n\tconst info = useSelector(getUserInfo);\r\n\tconst { logout } = createAuthProvider();\r\n\tconst [visibleMenu, setVisibleMenu] = React.useState(false);\r\n\r\n\tconst menuRef = React.useRef();\r\n\r\n\tconst toggleVisiblePopup = () => {\r\n\t\tsetVisibleMenu(!visibleMenu);\r\n\t};\r\n\r\n\tconst handleOutsideClick = (event) => {\r\n\t\tif (menuRef.current && !menuRef.current.contains(event.target)) {\r\n\t\t\tsetVisibleMenu(false);\r\n\t\t}\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tdocument.body.addEventListener('click', handleOutsideClick);\r\n\t}, []);\r\n\r\n\tconst logoutHandler = () => {\r\n\t\tlogout();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<header className='header'>\r\n\t\t\t<div className='header__logo'>BestTutor</div>\r\n\t\t\t<nav className='header__nav'>\r\n\t\t\t\t<ul className='header__ul'>\r\n\t\t\t\t\t<li className='header__li'>\r\n\t\t\t\t\t\t<Link to='/'>Главная</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className='header__li'>\r\n\t\t\t\t\t\t<Link to='/teachers'>Учителя</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<button ref={menuRef} onClick={toggleVisiblePopup} className='btn'>\r\n\t\t\t\t\tМеню\r\n\t\t\t\t</button>\r\n\t\t\t\t{visibleMenu && (\r\n\t\t\t\t\t<div className='header__menu'>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{info.roles[0] === 'TCHR' ? (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to='/tasks'>Задания</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link to='/editProfile'>Редактировать профиль</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<a href='/' onClick={logoutHandler}>\r\n\t\t\t\t\t\t\t\t\tВыход\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { createAuthProvider } from '../../jwt';\r\n\r\nconst { authFetch } = createAuthProvider();\r\n\r\nexport const fetchTaskForTeacher = createAsyncThunk(\r\n\t'task/fetchTaskForTeacher',\r\n\tasync (id) => {\r\n\t\tconst data = await authFetch('/api/school/getassignment_teacher', 'POST', {\r\n\t\t\tassignmentID: id,\r\n\t\t});\r\n\t\treturn data.assignment;\r\n\t}\r\n);\r\n\r\nexport const fetchStatisticForTeacher = createAsyncThunk(\r\n\t'task/fetchStatisticForTeacher',\r\n\tasync (id) => {\r\n\t\tconst data = await authFetch('/api/school/getstatistic', 'POST', {\r\n\t\t\tassignmentID: id,\r\n\t\t});\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const fetchTaskForStudent = createAsyncThunk(\r\n\t'task/fetchTaskForStudent',\r\n\tasync (id) => {\r\n\t\tconst data = await authFetch('/api/school/getassignment', 'POST', {\r\n\t\t\tassignmentID: id,\r\n\t\t});\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const taskSlice = createSlice({\r\n\tname: 'task',\r\n\tinitialState: {\r\n\t\titem: {},\r\n\t\tstatistic: {},\r\n\t\tloading: 'idle',\r\n\t\terror: null,\r\n\t},\r\n\treducers: {},\r\n\textraReducers: {\r\n\t\t[fetchTaskForTeacher.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTaskForTeacher.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\r\n\t\t\t\taction.payload.date = action.payload.date.slice(0, 10);\r\n\t\t\t\taction.payload.endDate = action.payload.endDate.slice(0, 10);\r\n\r\n\t\t\t\tstate.item = action.payload;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTaskForTeacher.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t[fetchStatisticForTeacher.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchStatisticForTeacher.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.statistic = action.payload.statistics;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchStatisticForTeacher.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t[fetchTaskForStudent.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTaskForStudent.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\r\n\t\t\t\taction.payload.date = action.payload.date.slice(0, 10);\r\n\t\t\t\taction.payload.endDate = action.payload.endDate.slice(0, 10);\r\n\r\n\t\t\t\taction.payload.questions.forEach((question) => {\r\n\t\t\t\t\tquestion.answers.forEach((answer) => {\r\n\t\t\t\t\t\tanswer.isChecked = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tstate.item = action.payload;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTaskForStudent.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport default taskSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const notificationSlice = createSlice({\r\n\tname: 'notification',\r\n\tinitialState: [],\r\n\treducers: {\r\n\t\taddNote: (state, action) => {\r\n\t\t\tstate.push(action.payload);\r\n\t\t},\r\n\t\tremoveNote: (state, action) => {\r\n\t\t\treturn state.filter((item) => item.id !== action.payload);\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { addNote, removeNote } = notificationSlice.actions;\r\n\r\nexport default notificationSlice.reducer;\r\n","import React from 'react';\r\nimport { nanoid } from '@reduxjs/toolkit';\r\nimport { useDispatch } from 'react-redux';\r\nimport { createAuthProvider } from '../jwt';\r\nimport { addNote } from '../redux/reducers/notificationSlice';\r\n\r\nexport const useAuthFetch = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { authFetch } = createAuthProvider();\r\n\r\n\tconst request = React.useCallback(\r\n\t\tasync (url, method = 'GET', body = null, headers = {}, cb) => {\r\n\t\t\tdispatch(\r\n\t\t\t\taddNote({\r\n\t\t\t\t\tid: nanoid(),\r\n\t\t\t\t\ttype: 'LOADING',\r\n\t\t\t\t\tmessage: 'Загрузка',\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await authFetch(url, method, body, headers);\r\n\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\taddNote({\r\n\t\t\t\t\t\tid: nanoid(),\r\n\t\t\t\t\t\ttype: 'SUCCESS',\r\n\t\t\t\t\t\tmessage: result.message || 'Загружено',\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (cb) cb(result);\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\taddNote({\r\n\t\t\t\t\t\tid: nanoid(),\r\n\t\t\t\t\t\ttype: 'Error',\r\n\t\t\t\t\t\tmessage: err.message || 'Что-то пошло не так',\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn err;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[authFetch, dispatch]\r\n\t);\r\n\r\n\treturn { request };\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Formik, Form } from 'formik';\r\nimport { fetchTaskForStudent } from '../redux/reducers/taskSlice';\r\nimport { useAuthFetch } from '../hooks/authFetch.hook';\r\nimport { FormInput, FormTextarea } from './index';\r\nimport * as yup from 'yup';\r\nimport { ChevronDown } from '../assets/icons';\r\n\r\nconst validationSchema = yup.object({\r\n\tteacher: yup.string(),\r\n\trating: yup\r\n\t\t.number('Рейтинг должен быть указана в цифрах')\r\n\t\t.positive('Рейтинг должен быть больше 0')\r\n\t\t.max(10, 'Максимум 10')\r\n\t\t.required('Рейтинг обязателен'),\r\n\ttext: yup.string().required('Текс отзыва обязателен'),\r\n});\r\n\r\nconst BoughtSubject = React.memo(({ course }) => {\r\n\tconst [isclose, setIsClose] = React.useState(true);\r\n\tconst [height, setHeight] = React.useState('0px');\r\n\r\n\tconst content = React.useRef(null);\r\n\r\n\tconst { request } = useAuthFetch();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst taskBtnHandeler = async (id) => {\r\n\t\tawait dispatch(fetchTaskForStudent(id));\r\n\t\thistory.push('/task');\r\n\t};\r\n\r\n\tconst chevronHandler = () => {\r\n\t\tsetIsClose(!isclose);\r\n\t\tsetHeight(isclose ? `${content.current.scrollHeight}px` : '0px');\r\n\t};\r\n\r\n\tconst formSubmitHandler = (formData) => {\r\n\t\trequest('/api/school/review', 'POST', formData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='user-profile__subject'>\r\n\t\t\t<div className='subject'>\r\n\t\t\t\t<div className='subject__container'>\r\n\t\t\t\t\t<div className='subject__row '>\r\n\t\t\t\t\t\t<div className='subject__title'>{course.title}</div>\r\n\t\t\t\t\t\t<div className='subject__container'>\r\n\t\t\t\t\t\t\t<span className='mr-10'>{course.price} грн</span>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t'btn btn--transparent ' + (isclose ? '' : 'btn--rotate')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={chevronHandler}>\r\n\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={content}\r\n\t\t\t\t\t\tstyle={{ maxHeight: height }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t'subject__info ' + (isclose ? '' : 'subject__info--active')\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t<div className='subject__desc'>{course.desc}</div>\r\n\t\t\t\t\t\t<span className='subject__min-title'>Уроки</span>\r\n\t\t\t\t\t\t<div className='subject__lessons'>\r\n\t\t\t\t\t\t\t{course.lessons.length &&\r\n\t\t\t\t\t\t\t\tcourse.lessons.map((lesson, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className='subject__lesson' key={lesson._id}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='subject__lesson-number'>\r\n\t\t\t\t\t\t\t\t\t\t\tЗанятие: {index + 1}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='subject__lesson-type'>\r\n\t\t\t\t\t\t\t\t\t\t\tТип: {lesson.location}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='subject__lesson-time'>\r\n\t\t\t\t\t\t\t\t\t\t\tНачало: {lesson.date}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='subject__lesson-time'>\r\n\t\t\t\t\t\t\t\t\t\t\tКонец: {lesson.endDate}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className='subject__min-title'>Задания</span>\r\n\t\t\t\t\t\t<div className='subject__tasks' style={{ marginTop: 0 }}>\r\n\t\t\t\t\t\t\t{course.assignments.length ? (\r\n\t\t\t\t\t\t\t\tcourse.assignments.map((assignment) => (\r\n\t\t\t\t\t\t\t\t\t<div className='subject__task' key={assignment._id}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='subject__task-name'>{assignment.title}</div>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\ttitle='Пройти задание'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => taskBtnHandeler(assignment._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\tОткрыть\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span>Заданий нет</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className='subject__min-title'>Отзыв</span>\r\n\t\t\t\t\t\t<Formik\r\n\t\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\t\tteacher: course.teacher,\r\n\t\t\t\t\t\t\t\trating: '',\r\n\t\t\t\t\t\t\t\ttext: '',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\t\tonSubmit={(values) => {\r\n\t\t\t\t\t\t\t\tformSubmitHandler(values);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<Form className='form teacher-profile__form'>\r\n\t\t\t\t\t\t\t\t<h3 className='form__title'>Добавить/изменить отзыв</h3>\r\n\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t<FormInput label='Рейтинг' name='rating' type='number' />\r\n\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t<FormTextarea label='Отзыв' name='text' />\r\n\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\t\t\t\tДобавить\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Formik>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nBoughtSubject.propTypes = {\r\n\tcourse: PropTypes.object,\r\n};\r\n\r\nexport default BoughtSubject;\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport default function ScrollToTop() {\r\n\tconst { pathname } = useLocation();\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, [pathname]);\r\n\r\n\treturn null;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { removeNote } from '../../redux/reducers/notificationSlice';\r\n\r\nconst Notification = ({ data }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [exit, setExit] = React.useState(false);\r\n\tconst [width, setWidth] = React.useState(0);\r\n\tconst [intervalId, setIntervalId] = React.useState(null);\r\n\r\n\tconst handleStartTimer = () => {\r\n\t\tconst id = setInterval(() => {\r\n\t\t\tsetWidth((prev) => {\r\n\t\t\t\tif (prev < 100) {\r\n\t\t\t\t\treturn prev + 0.5;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclearInterval(id);\r\n\t\t\t\treturn prev;\r\n\t\t\t});\r\n\t\t}, 20);\r\n\r\n\t\tsetIntervalId(id);\r\n\t};\r\n\r\n\tconst handlePauseTimer = () => {\r\n\t\tclearInterval(intervalId);\r\n\t};\r\n\r\n\tconst handleCloseNotification = () => {\r\n\t\thandlePauseTimer();\r\n\t\tsetExit(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(removeNote(data.id));\r\n\t\t}, 400);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (width === 100) {\r\n\t\t\thandleCloseNotification();\r\n\t\t}\r\n\t}, [width]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\thandleStartTimer();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonMouseEnter={handlePauseTimer}\r\n\t\t\tonMouseLeave={handleStartTimer}\r\n\t\t\tclassName={`notification ${\r\n\t\t\t\tdata.type === 'SUCCESS'\r\n\t\t\t\t\t? 'success'\r\n\t\t\t\t\t: data.type === 'LOADING'\r\n\t\t\t\t\t? 'loading'\r\n\t\t\t\t\t: 'error'\r\n\t\t\t} ${exit ? 'exit' : ''}`}>\r\n\t\t\t<p>{data.message}</p>\r\n\t\t\t<div className='notification__bar' style={{ width: `${width}%` }}></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nNotification.propTypes = {\r\n\tdata: PropTypes.object,\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getNotifications } from '../../redux/selectors';\r\nimport Notification from './Notification';\r\n\r\nconst Notifications = () => {\r\n\tconst notes = useSelector(getNotifications);\r\n\r\n\treturn (\r\n\t\t<div className='notifications'>\r\n\t\t\t{notes.map((note) => (\r\n\t\t\t\t<Notification key={note.id} data={note} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Notifications;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst Loader = ({ text }) => {\r\n\treturn (\r\n\t\t<div className='loader'>\r\n\t\t\t<span className='loader__text'>{text}</span>\r\n\t\t\t<div className='loader-ellipsis'>\r\n\t\t\t\t<div className='loader-ellips'></div>\r\n\t\t\t\t<div className='loader-ellips'></div>\r\n\t\t\t\t<div className='loader-ellips'></div>\r\n\t\t\t\t<div className='loader-ellips'></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nLoader.propTypes = {\r\n\ttext: PropTypes.string,\r\n};\r\n\r\nexport default Loader;\r\n","import { useField } from 'formik';\r\n\r\nconst FormInput = ({ label, ...props }) => {\r\n\tconst [field, meta] = useField(props);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<label className='form__label' htmlFor={props.id || props.name}>\r\n\t\t\t\t{label}\r\n\t\t\t</label>\r\n\t\t\t<input className='form__input' {...field} {...props} />\r\n\t\t\t{meta.touched && meta.error ? (\r\n\t\t\t\t<span className='form__error'>{meta.error}</span>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormInput;\r\n","import { useField } from 'formik';\r\n\r\nconst FormSelect = ({ label, ...props }) => {\r\n\tconst [field, meta] = useField(props);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<label className='form__label' htmlFor={props.id || props.name}>\r\n\t\t\t\t{label}\r\n\t\t\t</label>\r\n\t\t\t<select className='form__select' {...field} {...props} />\r\n\t\t\t{meta.touched && meta.error ? (\r\n\t\t\t\t<span className='form__error'>{meta.error}</span>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormSelect;\r\n","import { useField } from 'formik';\r\n\r\nconst FormTextarea = ({ label, ...props }) => {\r\n\tconst [field, meta] = useField(props);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<label className='form__label' htmlFor={props.id || props.name}>\r\n\t\t\t\t{label}\r\n\t\t\t</label>\r\n\t\t\t<textarea className='form__desc' {...field} {...props}></textarea>\r\n\t\t\t{meta.touched && meta.error ? (\r\n\t\t\t\t<span className='form__error'>{meta.error}</span>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormTextarea;\r\n","import { useField } from 'formik';\r\n\r\nconst FormCheckbox = ({ label, ...props }) => {\r\n\tconst [field, meta] = useField(props);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<label className='form__label' htmlFor={props.id || props.name}>\r\n\t\t\t\t{label}\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\ttype='checkbox'\r\n\t\t\t\tid={props.id || props.name}\r\n\t\t\t\tclassName='form__checkbox'\r\n\t\t\t\t{...field}\r\n\t\t\t\t{...props}\r\n\t\t\t/>\r\n\t\t\t{meta.touched && meta.error ? (\r\n\t\t\t\t<span className='form__error'>{meta.error}</span>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormCheckbox;\r\n","import React from 'react';\r\nimport { Edit } from '../assets/icons';\r\n\r\nconst FormFile = ({ setFieldValue, avatar }) => {\r\n\tconst [file, setFile] = React.useState();\r\n\tconst [img, setImage] = React.useState(avatar);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (file) {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tsetImage(reader.result);\r\n\t\t\t\tsetFieldValue('avatar', reader.result);\r\n\t\t\t};\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t}\r\n\t}, [file, setFieldValue]);\r\n\r\n\tconst inputChangeHandler = (event) => {\r\n\t\tsetFile(event.currentTarget.files[0]);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<input type='hidden' name='MAX_FILE_SIZE' value='5242880' />\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__file'\r\n\t\t\t\tid='editAvatarInput'\r\n\t\t\t\ttype='file'\r\n\t\t\t\tname='avatar'\r\n\t\t\t\tonChange={inputChangeHandler}\r\n\t\t\t/>\r\n\t\t\t<label htmlFor='editAvatarInput' className='form__drop-zone'>\r\n\t\t\t\tЗагрузите или перетащите сюда фото\r\n\t\t\t\t{img ? <img src={img} alt='Аватар' className='form__img' /> : ''}\r\n\t\t\t\t<div className='form__edit'>\r\n\t\t\t\t\t<Edit />\r\n\t\t\t\t</div>\r\n\t\t\t</label>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormFile;\r\n","export default __webpack_public_path__ + \"static/media/1.b16f6f2a.webp\";","import { Link } from 'react-router-dom';\r\nimport { Formik, Form } from 'formik';\r\nimport { useFetch } from '../../hooks/fetch.hook';\r\nimport { createAuthProvider } from '../../jwt';\r\nimport { FormInput } from '../../Components';\r\nimport * as yup from 'yup';\r\nimport img from '../../assets/img/1.webp';\r\n\r\nconst validationSchema = yup.object({\r\n\temail: yup\r\n\t\t.string()\r\n\t\t.email('Введите коректный email')\r\n\t\t.required('Email обязательное поле'),\r\n\tpassword: yup\r\n\t\t.string()\r\n\t\t.min(4, 'Минимальная длина 6')\r\n\t\t.required('Пароль обязательное поле'),\r\n});\r\n\r\nexport const Login = () => {\r\n\tconst { loading, request } = useFetch();\r\n\tconst { login } = createAuthProvider();\r\n\r\n\tconst formHandler = (values) => {\r\n\t\trequest('/api/auth/login', 'POST', values, {}, (data) => {\r\n\t\t\tlogin(data);\r\n\t\t\tdocument.location.reload();\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<main className='sign'>\r\n\t\t\t<img className='sign__bg' src={img} alt='Фото ученика за компьютером' />\r\n\r\n\t\t\t<div className='sign__info'>\r\n\t\t\t\t<h1 className='sign__logo'>BestTutor</h1>\r\n\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\temail: '',\r\n\t\t\t\t\t\tpassword: '',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\tonSubmit={(values) => {\r\n\t\t\t\t\t\tformHandler(values);\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Form className='form form--sign'>\r\n\t\t\t\t\t\t<h2 className='form__title'>Вход</h2>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Email адрес' name='email' type='email' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\tlabel='Пароль'\r\n\t\t\t\t\t\t\t\thtml=\"<a className='form__link' href='#'>Забыли пароль?</a>\"\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn form__btn w-100'\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tdisabled={loading}>\r\n\t\t\t\t\t\t\tВойти\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Formik>\r\n\r\n\t\t\t\t<footer className='sign__footer'>\r\n\t\t\t\t\tНет аккаунта{' '}\r\n\t\t\t\t\t<Link className='sign__link' to='/signup'>\r\n\t\t\t\t\t\tЗарегистрируйтесь\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/2.145bd8c3.webp\";","import { Link } from 'react-router-dom';\r\nimport { Formik, Form } from 'formik';\r\nimport { useFetch } from '../../hooks/fetch.hook';\r\nimport { FormInput, FormSelect } from '../../Components';\r\nimport * as yup from 'yup';\r\nimport img from '../../assets/img/2.webp';\r\n\r\nconst validationSchema = yup.object({\r\n\tisTeacher: yup.string(),\r\n\temail: yup\r\n\t\t.string()\r\n\t\t.email('Введите коректный email')\r\n\t\t.required('Email обязательное поле'),\r\n\tusername: yup\r\n\t\t.string()\r\n\t\t.max(30, 'Макс длина 30')\r\n\t\t.required('Введите имя и фамилию'),\r\n\tdateOfBirth: yup.string().required('Выберите дату'),\r\n\tpassword: yup\r\n\t\t.string()\r\n\t\t.min(6, 'Минимальная длина 6')\r\n\t\t.required('Password обязательное поле'),\r\n});\r\n\r\nexport const Signup = () => {\r\n\tconst { loading, request } = useFetch();\r\n\r\n\tconst formHandler = (values) => {\r\n\t\trequest('/api/auth/register', 'POST', values, {}, (data) => {\r\n\t\t\trequest('/api/auth/sendValidation', 'POST', {\r\n\t\t\t\temail: values.email,\r\n\t\t\t});\r\n\t\t\talert(data.message);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<main className='sign'>\r\n\t\t\t<img className='sign__bg' src={img} alt='Фото ученика за компьютером' />\r\n\r\n\t\t\t<div className='sign__info'>\r\n\t\t\t\t<h1 className='sign__logo'>BestTutor</h1>\r\n\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\tisTeacher: 'false',\r\n\t\t\t\t\t\temail: '',\r\n\t\t\t\t\t\tusername: '',\r\n\t\t\t\t\t\tdateOfBirth: '',\r\n\t\t\t\t\t\tpassword: '',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\tonSubmit={(values) => {\r\n\t\t\t\t\t\tformHandler(values);\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Form className='form form--sign'>\r\n\t\t\t\t\t\t<h2 className='form__title'>Регистрация</h2>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormSelect label='Ваша роль' name='isTeacher'>\r\n\t\t\t\t\t\t\t\t<option value='false'>Ученик</option>\r\n\t\t\t\t\t\t\t\t<option value='true'>Учитель</option>\r\n\t\t\t\t\t\t\t</FormSelect>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Email адрес' name='email' type='email' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t<FormInput label='Имя и Фамилия' name='username' type='text' />\r\n\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Дата рождения' name='dateOfBirth' type='date' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Пароль' name='password' type='password' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn form__btn w-100'\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tdisabled={loading}>\r\n\t\t\t\t\t\t\tЗарегистрироваться\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Formik>\r\n\r\n\t\t\t\t<footer className='sign__footer'>\r\n\t\t\t\t\tЕсть аккаунт?{' '}\r\n\t\t\t\t\t<Link className='sign__link' to='/login'>\r\n\t\t\t\t\t\tВойдите\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getBoughtCourses } from '../../redux/selectors';\r\nimport { fetchBoughtCourses } from '../../redux/reducers/userInfoSlice';\r\nimport { BoughtSubject, Loader } from '../../Components';\r\n\r\nconst UserProfile = ({ coursesIsTrue }) => {\r\n\tconst courses = useSelector(getBoughtCourses);\r\n\tconst dispatch = useDispatch();\r\n\tconst history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (coursesIsTrue && !courses.length) {\r\n\t\t\tdispatch(fetchBoughtCourses());\r\n\t\t}\r\n\t});\r\n\r\n\tconst btnHandler = () => {\r\n\t\thistory.push('/teachers');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{coursesIsTrue ? (\r\n\t\t\t\t<div className='user-profile'>\r\n\t\t\t\t\t<h2 className='user-profile__title'>Купленные курсы</h2>\r\n\t\t\t\t\t<div className='user-profile__subjects'>\r\n\t\t\t\t\t\t{courses.length ? (\r\n\t\t\t\t\t\t\tcourses.map((course) => (\r\n\t\t\t\t\t\t\t\t<BoughtSubject key={course._id} course={course} />\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Loader text='Загрузка купленных курсов' />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className='content__empty'>\r\n\t\t\t\t\tУ вас пока нет предмета и учителя.\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<button className='btn' type='button' onClick={btnHandler}>\r\n\t\t\t\t\t\tНачать поиск\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nUserProfile.propTypes = {\r\n\tcourses: PropTypes.array,\r\n};\r\n\r\nexport default UserProfile;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Formik, Form } from 'formik';\r\nimport { nanoid } from '@reduxjs/toolkit';\r\nimport { teacherCourseAdd } from '../../redux/reducers/userInfoSlice';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport { FormInput, FormTextarea } from '../../Components';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n\ttitle: yup.string().required('Название курса обязательно'),\r\n\tprice: yup\r\n\t\t.number('Цена должна быть указана в цифрах')\r\n\t\t.positive('Цена должна быть больше 0')\r\n\t\t.required('Цена (грн) обязательно'),\r\n\tdesc: yup.string().required('Описание курса обязательно'),\r\n});\r\n\r\nconst TeacherProfileForm = React.memo(({ teacherId, teacherSubject }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst formSubmitHandler = (formData, actions) => {\r\n\t\trequest('/api/school/newcourse', 'POST', formData, {}, () => {\r\n\t\t\tdispatch(\r\n\t\t\t\tteacherCourseAdd({\r\n\t\t\t\t\t...formData,\r\n\t\t\t\t\t_id: nanoid(),\r\n\t\t\t\t\tisBlocked: false,\r\n\t\t\t\t\tisPublished: false,\r\n\t\t\t\t\tsubject: teacherSubject,\r\n\t\t\t\t\tteacher: teacherId,\r\n\t\t\t\t\tlessonsIds: [],\r\n\t\t\t\t\tassignmentsIds: [],\r\n\t\t\t\t\tusersdataIds: [],\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tactions.resetForm();\r\n\t\t});\r\n\t};\r\n\tconsole.log('TeacherProfileForm rendered');\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tprice: '',\r\n\t\t\t\tdesc: '',\r\n\t\t\t}}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\tformSubmitHandler(values, actions);\r\n\t\t\t}}>\r\n\t\t\t<Form className='form teacher-profile__form'>\r\n\t\t\t\t<h3 className='form__title'>Добавить новый курс</h3>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormInput label='Название курса' name='title' type='text' />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormInput label='Цена (грн)' name='price' type='number' />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormTextarea label='Описание курса' name='desc' />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\tДобавить\r\n\t\t\t\t</button>\r\n\t\t\t</Form>\r\n\t\t</Formik>\r\n\t);\r\n});\r\n\r\nTeacherProfileForm.propTypes = {\r\n\tteacherId: PropTypes.string,\r\n\tteacherSubject: PropTypes.string,\r\n};\r\n\r\nexport default TeacherProfileForm;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Formik, Form } from 'formik';\r\nimport {\r\n\tteacherCourseDelete,\r\n\tteacherCourseUpdate,\r\n} from '../../redux/reducers/userInfoSlice';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport { FormInput, FormTextarea } from '../../Components';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n\ttitle: yup.string().required('Название курса обязательно'),\r\n\tprice: yup.string().required('Цена (грн) обязательно'),\r\n\tdesc: yup.string().required('Описание курса обязательно'),\r\n});\r\n\r\nconst TeacherProfileSubjectForm = React.memo(({ course }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst publishBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t'/api/school/publishcourse/',\r\n\t\t\t'POST',\r\n\t\t\t{\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tteacherCourseUpdate({\r\n\t\t\t\t\t\tid: course._id,\r\n\t\t\t\t\t\tchanges: {\r\n\t\t\t\t\t\t\tisPublished: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tconst updateBtnHandler = (data) => {\r\n\t\trequest('/api/school/editcourse/', 'POST', data, {}, () => {\r\n\t\t\tdispatch(\r\n\t\t\t\tteacherCourseUpdate({\r\n\t\t\t\t\tid: course._id,\r\n\t\t\t\t\tchanges: {\r\n\t\t\t\t\t\t...data,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t});\r\n\t};\r\n\r\n\tconst updatePriceBtnHandler = (data) => {\r\n\t\trequest(\r\n\t\t\t'/api/school/editprice/',\r\n\t\t\t'POST',\r\n\t\t\t{\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t\tprice: data,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tteacherCourseUpdate({\r\n\t\t\t\t\t\tid: course._id,\r\n\t\t\t\t\t\tchanges: {\r\n\t\t\t\t\t\t\tprice: data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tconst unblockeBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t'/api/school/unblockcourse/',\r\n\t\t\t'POST',\r\n\t\t\t{\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tteacherCourseUpdate({\r\n\t\t\t\t\t\tid: course._id,\r\n\t\t\t\t\t\tchanges: {\r\n\t\t\t\t\t\t\tisBlocked: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tconst blockeBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t'/api/school/blockcourse/',\r\n\t\t\t'POST',\r\n\t\t\t{\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tteacherCourseUpdate({\r\n\t\t\t\t\t\tid: course._id,\r\n\t\t\t\t\t\tchanges: {\r\n\t\t\t\t\t\t\tisBlocked: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tconst deleteBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t'/api/school/deletecourse/',\r\n\t\t\t'DELETE',\r\n\t\t\t{\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(teacherCourseDelete(course._id));\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t\tsubject: course.subject,\r\n\t\t\t\ttitle: course.title,\r\n\t\t\t\tprice: course.price,\r\n\t\t\t\tdesc: course.desc,\r\n\t\t\t}}\r\n\t\t\tvalidationSchema={validationSchema}>\r\n\t\t\t{(formik) => (\r\n\t\t\t\t<Form className='form subject__form'>\r\n\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<label className='form__label'>\r\n\t\t\t\t\t\t\t\tОпубликован: {course.isPublished ? '✅' : '❌'}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<label className='form__label'>\r\n\t\t\t\t\t\t\t\tЗаблокирован: {course.isBlocked ? '✅' : '❌'}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Предмет' name='subject' type='text' disabled />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Название курса' name='title' type='text' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<FormInput label='Цена (грн)' name='price' type='number' />\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<FormTextarea label='Описание курса' name='desc' />\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<div className='subject__btns'>\r\n\t\t\t\t\t\t<button type='button' className='btn' onClick={publishBtnHandler}>\r\n\t\t\t\t\t\t\tОпубликовать\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\tonClick={() => updateBtnHandler(formik.values)}>\r\n\t\t\t\t\t\t\tОбновить\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\tonClick={() => updatePriceBtnHandler(formik.values.price)}>\r\n\t\t\t\t\t\t\tОбновить цену\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button type='button' className='btn' onClick={unblockeBtnHandler}>\r\n\t\t\t\t\t\t\tРазблокировать\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tclassName='btn btn--red'\r\n\t\t\t\t\t\t\tonClick={blockeBtnHandler}>\r\n\t\t\t\t\t\t\tЗаблокировать\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tclassName='btn btn--red'\r\n\t\t\t\t\t\t\tonClick={deleteBtnHandler}>\r\n\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)}\r\n\t\t</Formik>\r\n\t);\r\n});\r\n\r\nTeacherProfileSubjectForm.propTypes = {\r\n\tcourse: PropTypes.object,\r\n};\r\n\r\nexport default TeacherProfileSubjectForm;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tselectLessonById,\r\n\tteacherLessonDelete,\r\n} from '../../redux/reducers/userInfoSlice';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\n\r\nconst TeacherProfileSubjectLesson = React.memo(\r\n\t({ index, courseID, lessonID, isPublished }) => {\r\n\t\tconst lesson = useSelector((state) => selectLessonById(state, lessonID));\r\n\r\n\t\tconst dispatch = useDispatch();\r\n\t\tconst { request } = useAuthFetch();\r\n\r\n\t\tconst deleteLessonHandler = () => {\r\n\t\t\trequest(\r\n\t\t\t\t'/api/school/dellesson/',\r\n\t\t\t\t'DELETE',\r\n\t\t\t\t{\r\n\t\t\t\t\tcourseID,\r\n\t\t\t\t\tlessonID,\r\n\t\t\t\t},\r\n\t\t\t\t{},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tdispatch(teacherLessonDelete({ courseID, lessonID }));\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className='subject__lesson'>\r\n\t\t\t\t{isPublished ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='subject__lesson-del'\r\n\t\t\t\t\t\ttitle='Удалить урок'\r\n\t\t\t\t\t\tonClick={deleteLessonHandler}>\r\n\t\t\t\t\t\t&#215;\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className='subject__lesson-number'>Занятие: {index + 1}</div>\r\n\t\t\t\t<div className='subject__lesson-type'>Тип: {lesson.location}</div>\r\n\t\t\t\t<div className='subject__lesson-time'>Начало: {lesson.date}</div>\r\n\t\t\t\t<div className='subject__lesson-time'>Конец: {lesson.endDate}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nTeacherProfileSubjectLesson.propTypes = {\r\n\tindex: PropTypes.number,\r\n\tcourseID: PropTypes.string,\r\n\tlessonID: PropTypes.string,\r\n\tisPublished: PropTypes.bool,\r\n};\r\n\r\nexport default TeacherProfileSubjectLesson;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Formik, Form } from 'formik';\r\nimport { nanoid } from '@reduxjs/toolkit';\r\nimport { teacherLessonAdd } from '../../redux/reducers/userInfoSlice';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport { FormInput, FormSelect } from '../../Components';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n\tlocation: yup.string().required('Выберите тип урока'),\r\n\tdate: yup.date().required('Выберите начало урока'),\r\n\tendDate: yup.date().required('Выберите конец урока'),\r\n});\r\n\r\nconst TeacherProfileLessonsForm = React.memo(({ courseID }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst formSubmitHandler = (formData, actions) => {\r\n\t\trequest('/api/school/newlesson/', 'POST', formData, {}, () => {\r\n\t\t\tconst id = nanoid();\r\n\t\t\tdispatch(\r\n\t\t\t\tteacherLessonAdd({\r\n\t\t\t\t\tcourseID,\r\n\t\t\t\t\tlessonID: id,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t_id: id,\r\n\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tactions.resetForm();\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\tcourseID: courseID,\r\n\t\t\t\tlocation: '',\r\n\t\t\t\tdate: '',\r\n\t\t\t\tendDate: '',\r\n\t\t\t}}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\tformSubmitHandler(values, actions);\r\n\t\t\t}}>\r\n\t\t\t<Form className='form teacher-profile__form'>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormSelect label='Тип урока' name='location'>\r\n\t\t\t\t\t\t<option value=''>Тип урока</option>\r\n\t\t\t\t\t\t<option value='Онлайн'>Онлайн</option>\r\n\t\t\t\t\t\t<option value='Офлайн'>Офлайн</option>\r\n\t\t\t\t\t</FormSelect>\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<FormInput label='Начало занятия' name='date' type='date' />\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<FormInput label='Конец занятия' name='endDate' type='date' />\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\tДобавить\r\n\t\t\t\t</button>\r\n\t\t\t</Form>\r\n\t\t</Formik>\r\n\t);\r\n});\r\n\r\nTeacherProfileLessonsForm.propTypes = {\r\n\tcourseID: PropTypes.string,\r\n};\r\n\r\nexport default TeacherProfileLessonsForm;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tselectUserById,\r\n\tteacherUserdataDelete,\r\n} from '../../redux/reducers/userInfoSlice';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\n\r\nconst TeacherProfileSubjectUser = React.memo(({ courseID, userID }) => {\r\n\tconst user = useSelector((state) => selectUserById(state, userID));\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst refundOneUserBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t`/api/school/refund/${userID}`,\r\n\t\t\t'POST',\r\n\t\t\t{\r\n\t\t\t\tcourseID: courseID,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(teacherUserdataDelete({ courseID, userdataID: userID }));\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='subject__user'>\r\n\t\t\t<img src={user.avatar} alt='Аватар' className='subject__user-avatar' />\r\n\t\t\t<div className='subject__container'>\r\n\t\t\t\t<div className='subject__user-name'>{user.username}</div>\r\n\t\t\t\t<div className='subject__user-email'>{user.email}</div>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclassName='btn btn--transparent'\r\n\t\t\t\tonClick={refundOneUserBtnHandler}>\r\n\t\t\t\tВернуть деньги ученику\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nTeacherProfileSubjectUser.propTypes = {\r\n\tcourseID: PropTypes.string,\r\n\tuserID: PropTypes.string,\r\n};\r\n\r\nexport default TeacherProfileSubjectUser;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { teacherUsersdataDelete } from '../../redux/reducers/userInfoSlice';\r\nimport TeacherProfileSubjectForm from './TeacherProfileSubjectForm';\r\nimport TeacherProfileSubjectLesson from './TeacherProfileSubjectLesson';\r\nimport TeacherProfileLessonsForm from './TeacherProfileLessonsForm';\r\nimport TeacherProfileSubjectUser from './TeacherProfileSubjectUser';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport { ChevronDown } from '../../assets/icons';\r\n\r\nconst TeacherProfileSubject = React.memo(({ course }) => {\r\n\tconst [isClose, setisClose] = React.useState(true);\r\n\tconst [height, setHeight] = React.useState('0px');\r\n\r\n\tconst content = React.useRef(null);\r\n\r\n\tconst { request } = useAuthFetch();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst btnHandler = () => {\r\n\t\tsetisClose(!isClose);\r\n\t\tsetHeight(isClose ? `${content.current.scrollHeight}px` : '0px');\r\n\t};\r\n\r\n\tconst refundAllUsersBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t'/api/school/refund',\r\n\t\t\t'POST',\r\n\t\t\t{\r\n\t\t\t\tcourseID: course._id,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tteacherUsersdataDelete({\r\n\t\t\t\t\t\tcourseID: course._id,\r\n\t\t\t\t\t\tuserdatasID: course.usersdataIds,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='teacher-profile__subject'>\r\n\t\t\t<div className='subject'>\r\n\t\t\t\t<div className='subject__container'>\r\n\t\t\t\t\t<div className='subject__row '>\r\n\t\t\t\t\t\t<div className='subject__title'>{course.title}</div>\r\n\t\t\t\t\t\t<div className='subject__container'>\r\n\t\t\t\t\t\t\t<span className='mr-10'>{course.price} грн</span>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t'btn btn--transparent ' + (isClose ? '' : 'btn--rotate')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={btnHandler}>\r\n\t\t\t\t\t\t\t\t<ChevronDown />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={content}\r\n\t\t\t\t\t\tstyle={{ maxHeight: height }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t'subject__info ' + (isClose ? '' : 'subject__info--active')\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t<TeacherProfileSubjectForm course={course} />\r\n\r\n\t\t\t\t\t\t<span className='subject__min-title'>Уроки</span>\r\n\t\t\t\t\t\t<div className='subject__lessons'>\r\n\t\t\t\t\t\t\t{course.lessonsIds.length ? (\r\n\t\t\t\t\t\t\t\tcourse.lessonsIds.map((lessonID, index) => (\r\n\t\t\t\t\t\t\t\t\t<TeacherProfileSubjectLesson\r\n\t\t\t\t\t\t\t\t\t\tkey={lessonID}\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\tcourseID={course._id}\r\n\t\t\t\t\t\t\t\t\t\tlessonID={lessonID}\r\n\t\t\t\t\t\t\t\t\t\tisPublished={course.isPublished}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>Уроков нет</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{!course.isPublished && (\r\n\t\t\t\t\t\t\t\t<TeacherProfileLessonsForm courseID={course._id} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='subject__users'>\r\n\t\t\t\t{course.usersdataIds.length ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{course.usersdataIds.map((userID) => (\r\n\t\t\t\t\t\t\t<TeacherProfileSubjectUser\r\n\t\t\t\t\t\t\t\tkey={userID}\r\n\t\t\t\t\t\t\t\tcourseID={course._id}\r\n\t\t\t\t\t\t\t\tuserID={userID}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<button className='btn' onClick={refundAllUsersBtnHandler}>\r\n\t\t\t\t\t\t\tВернуть деньги всем ученикам\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className='subject__user-info'>Учеников нет</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nTeacherProfileSubject.propTypes = {\r\n\tcourse: PropTypes.object,\r\n};\r\n\r\nexport default TeacherProfileSubject;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getBoughtCourses } from '../../redux/selectors';\r\nimport {\r\n\tfetchTeacherCourses,\r\n\tfetchBoughtCourses,\r\n\tselectAllTeacherCourses,\r\n} from '../../redux/reducers/userInfoSlice';\r\nimport TeacherProfileForm from './TeacherProfileForm';\r\nimport TeacherProfileSubject from './TeacherProfileSubject';\r\nimport { BoughtSubject, Loader } from '../../Components';\r\n\r\nconst TeacherProfile = ({\r\n\tteacherId,\r\n\tteacherSubject,\r\n\tteacherCoursesIsTrue,\r\n\tcoursesIsTrue,\r\n}) => {\r\n\tconst teacherCourses = useSelector(selectAllTeacherCourses);\r\n\tconst courses = useSelector(getBoughtCourses);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (coursesIsTrue && !courses.length) {\r\n\t\t\tdispatch(fetchBoughtCourses());\r\n\t\t}\r\n\t}, [dispatch, coursesIsTrue, courses.length]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (teacherCoursesIsTrue && !teacherCourses.length) {\r\n\t\t\tdispatch(fetchTeacherCourses());\r\n\t\t}\r\n\t}, [teacherCoursesIsTrue, teacherCourses.length, dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className='content'>\r\n\t\t\t<div className='content__main'>\r\n\t\t\t\t<div className='teacher-profile'>\r\n\t\t\t\t\t<h2 className='teacher-profile__title'>Созданные курсы</h2>\r\n\t\t\t\t\t<div className='teacher-profile__subjects'>\r\n\t\t\t\t\t\t{teacherCourses.length ? (\r\n\t\t\t\t\t\t\tteacherCourses.map((course) => (\r\n\t\t\t\t\t\t\t\t<TeacherProfileSubject key={course._id} course={course} />\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t) : teacherCoursesIsTrue && !teacherCourses.lenght ? (\r\n\t\t\t\t\t\t\t<Loader text='Загрузка созданных курсов' />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>Созданных курсов нет</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h2 className='teacher-profile__title'>Купленные курсы</h2>\r\n\t\t\t\t\t<div className='teacher-profile__subjects'>\r\n\t\t\t\t\t\t{courses.length ? (\r\n\t\t\t\t\t\t\tcourses.map((course) => (\r\n\t\t\t\t\t\t\t\t<BoughtSubject key={course._id} course={course} />\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t) : coursesIsTrue && !courses.length ? (\r\n\t\t\t\t\t\t\t<Loader text='Загрузка купленных курсов' />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>Купленных курсов нет</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='content__aside'>\r\n\t\t\t\t<TeacherProfileForm\r\n\t\t\t\t\tteacherId={teacherId}\r\n\t\t\t\t\tteacherSubject={teacherSubject}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTeacherProfile.propTypes = {\r\n\tteacherId: PropTypes.string,\r\n\tteacherSubject: PropTypes.string,\r\n\tteacherCourses: PropTypes.array,\r\n\tcourses: PropTypes.array,\r\n};\r\n\r\nexport default TeacherProfile;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUserInfo } from '../../redux/selectors';\r\nimport UserProfile from './UserProfile';\r\nimport TeacherProfile from './TeacherProfile';\r\n\r\nexport const Home = () => {\r\n\tconst info = useSelector(getUserInfo);\r\n\r\n\treturn (\r\n\t\t<main className='main'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t{info.roles[0] === 'TCHR' ? (\r\n\t\t\t\t\t<TeacherProfile\r\n\t\t\t\t\t\tteacherId={info._id}\r\n\t\t\t\t\t\tteacherSubject={info.subject}\r\n\t\t\t\t\t\tteacherCoursesIsTrue={!!info.teacherCourses.length}\r\n\t\t\t\t\t\tcoursesIsTrue={!!info.courses.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<UserProfile coursesIsTrue={!!info.courses.length} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Formik, Form } from 'formik';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport { updateInfo } from '../../redux/reducers/userInfoSlice';\r\nimport { FormFile, FormInput } from '../../Components/index';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n\tphoto: yup.mixed(),\r\n\tusername: yup.string(),\r\n\tdateOfBirth: yup.string(),\r\n\tphone: yup.string().max(10),\r\n\taddress: yup.string(),\r\n\tarea: yup.string(),\r\n\tcity: yup.string(),\r\n});\r\n\r\nconst EditForm = ({ data }) => {\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst formSubmitHandler = (formData) => {\r\n\t\trequest('/api/auth/edit', 'POST', formData, {}, () => {\r\n\t\t\tdispatch(updateInfo(formData));\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\tavatar: data.avatar,\r\n\t\t\t\tusername: data.username,\r\n\t\t\t\temail: data.email,\r\n\t\t\t\tdateOfBirth: data.dateOfBirth,\r\n\t\t\t\tphone: data.phone,\r\n\t\t\t\taddress: data.address,\r\n\t\t\t\tarea: data.area,\r\n\t\t\t\tcity: data.city,\r\n\t\t\t}}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={(values) => {\r\n\t\t\t\tformSubmitHandler(values);\r\n\t\t\t}}>\r\n\t\t\t{(formik) => (\r\n\t\t\t\t<Form className='form' encType='multipart/form-data'>\r\n\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--center'>\r\n\t\t\t\t\t\t<FormFile\r\n\t\t\t\t\t\t\tsetFieldValue={formik.setFieldValue}\r\n\t\t\t\t\t\t\tavatar={data.avatar}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset '>\r\n\t\t\t\t\t\t<FormInput label='Имя и Фамилия' name='username' type='text' />\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<FormInput label='Email адрес' name='email' type='email' disabled />\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<FormInput label='Дата рождения' name='dateOfBirth' type='date' />\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Телефон' name='phone' type='tel' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Адрес' name='address' type='text' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Область' name='area' type='text' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput label='Город' name='city' type='text' />\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Form>\r\n\t\t\t)}\r\n\t\t</Formik>\r\n\t);\r\n};\r\n\r\nEditForm.propTypes = {\r\n\tdata: PropTypes.object,\r\n};\r\n\r\nexport default EditForm;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { createAuthProvider } from '../../jwt';\r\n\r\nconst { authFetch } = createAuthProvider();\r\n\r\nexport const fetchSubjects = createAsyncThunk(\r\n\t'subjects/fetchSubjects',\r\n\tasync () => {\r\n\t\tconst data = await authFetch('/api/school/getSubjects');\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const subjectsSlice = createSlice({\r\n\tname: 'subjects',\r\n\tinitialState: {\r\n\t\titems: [],\r\n\t\tloading: 'idle',\r\n\t\terror: null,\r\n\t},\r\n\treducers: {},\r\n\textraReducers: {\r\n\t\t[fetchSubjects.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchSubjects.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.items = action.payload.subjects;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchSubjects.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport default subjectsSlice.reducer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Formik, Form } from 'formik';\r\nimport { FormSelect, FormTextarea } from '../../Components/index';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateInfo } from '../../redux/reducers/userInfoSlice';\r\nimport { fetchSubjects } from '../../redux/reducers/subjectsSlice';\r\nimport { getSubjects } from '../../redux/selectors';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n\tsubject: yup.string().required('Выберите вашу дисциплину'),\r\n\tdesc: yup.string().required('Напишите о себе'),\r\n\teducation: yup.string().required('Напишите о вашем образование'),\r\n\texperience: yup.string().required('Напишите о вашей работе'),\r\n});\r\n\r\nconst TeacherForm = ({ data }) => {\r\n\tconst subjects = useSelector(getSubjects);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (!subjects.length) {\r\n\t\t\tdispatch(fetchSubjects());\r\n\t\t}\r\n\t});\r\n\r\n\tconst formSubmitHandler = (formData) => {\r\n\t\trequest('/api/auth/editteacher', 'POST', formData, {}, () => {\r\n\t\t\tdispatch(updateInfo(formData));\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\tsubject: data.subject,\r\n\t\t\t\tdesc: data.desc,\r\n\t\t\t\teducation: data.education,\r\n\t\t\t\texperience: data.experience,\r\n\t\t\t}}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={(values) => {\r\n\t\t\t\tformSubmitHandler(values);\r\n\t\t\t}}>\r\n\t\t\t<Form className='form'>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormSelect label='Предмет' name='subject'>\r\n\t\t\t\t\t\t<option value=''>Выберите предмет</option>\r\n\t\t\t\t\t\t{subjects.map((subject) => (\r\n\t\t\t\t\t\t\t<option key={subject._id} value={subject.name}>\r\n\t\t\t\t\t\t\t\t{subject.name}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</FormSelect>\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormTextarea label='Описание о себе' name='desc' />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormTextarea label='Образование' name='education' />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t<FormTextarea label='Работа' name='experience' />\r\n\t\t\t\t</fieldset>\r\n\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\tСохранить\r\n\t\t\t\t</button>\r\n\t\t\t</Form>\r\n\t\t</Formik>\r\n\t);\r\n};\r\n\r\nTeacherForm.propTypes = {\r\n\tdata: PropTypes.object,\r\n};\r\n\r\nexport default TeacherForm;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUserInfo } from '../../redux/selectors';\r\nimport EditForm from './EditForm';\r\nimport TeacherForm from './TeacherForm';\r\n\r\nexport const EditProfile = () => {\r\n\tconst info = useSelector(getUserInfo);\r\n\r\n\treturn (\r\n\t\t<main className='main'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='content'>\r\n\t\t\t\t\t<div className='content__main'>\r\n\t\t\t\t\t\t<div className='edit-form edit-form--big'>\r\n\t\t\t\t\t\t\t<EditForm data={info} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<aside className='content__aside'>\r\n\t\t\t\t\t\t{info.roles[0] === 'TCHR' && (\r\n\t\t\t\t\t\t\t<div className='edit-form edit-form--little'>\r\n\t\t\t\t\t\t\t\t<TeacherForm data={info} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</aside>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","const declOfNum = (number, titles) => {\r\n\tconst cases = [2, 0, 1, 1, 1, 2];\r\n\treturn titles[\r\n\t\tnumber % 100 > 4 && number % 100 < 20\r\n\t\t\t? 2\r\n\t\t\t: cases[number % 10 < 5 ? number % 10 : 5]\r\n\t];\r\n};\r\n\r\nexport default declOfNum;\r\n","const countRating = (arr) => {\r\n\tconst value = arr.reduce((prev, review) => prev + review.rating, 0);\r\n\tif (value === 0) return 0;\r\n\r\n\treturn Math.round(value / arr.length);\r\n};\r\n\r\nexport default countRating;\r\n","const countStudents = (arr) => {\r\n\treturn arr.reduce((prev, item) => prev + item.students.length, 0);\r\n};\r\n\r\nexport default countStudents;\r\n","const byField = function (field, reverse, primer) {\r\n\tlet key = primer\r\n\t\t? function (x) {\r\n\t\t\t\treturn primer(x[field]);\r\n\t\t  }\r\n\t\t: function (x) {\r\n\t\t\t\treturn x[field];\r\n\t\t  };\r\n\r\n\treverse = !reverse ? 1 : -1;\r\n\r\n\treturn function (a, b) {\r\n\t\ta = key(a);\r\n\t\tb = key(b);\r\n\t\treturn reverse * ((a > b) - (b > a));\r\n\t};\r\n};\r\n\r\nexport default byField;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { createAuthProvider } from '../../jwt';\r\nimport { countRating, byField } from '../../util';\r\n\r\nconst { authFetch } = createAuthProvider();\r\n\r\nexport const fetchTeachers = createAsyncThunk(\r\n\t'teachers/fetchTeachers',\r\n\tasync () => {\r\n\t\tconst data = await authFetch('/api/auth/userlist/TCHR');\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const fetchTeacher = createAsyncThunk(\r\n\t'teachers/fetchTeacher',\r\n\tasync (id) => {\r\n\t\tconst data = await authFetch(`/api/auth/userdataID/${id}`);\r\n\r\n\t\tif (data?.teacherCourses?.length) {\r\n\t\t\tconst teacherCourses = await authFetch(`/api/school/courses/${id}`);\r\n\t\t\tdata.teacherCourses = teacherCourses.courses;\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const fetchTeacherCourses = createAsyncThunk(\r\n\t'teachers/fetchTeacherCourses',\r\n\tasync (id) => {\r\n\t\tconst data = await authFetch(`/api/school/courses/${id}`);\r\n\t\treturn data;\r\n\t}\r\n);\r\n\r\nexport const fetchTeacherReviews = createAsyncThunk(\r\n\t'teachers/fetchTeacherReviews',\r\n\tasync (_, { getState }) => {\r\n\t\tconst {\r\n\t\t\tteacher: { reviews },\r\n\t\t} = getState().teachers;\r\n\r\n\t\tif (reviews.length) {\r\n\t\t\tconst usersIds = reviews.map((review) => review.author);\r\n\r\n\t\t\tconst data = await authFetch('/api/auth/lightdataArr/', 'POST', {\r\n\t\t\t\tids: usersIds,\r\n\t\t\t});\r\n\r\n\t\t\tconst newReviews = [];\r\n\r\n\t\t\tawait reviews.forEach((review) => {\r\n\t\t\t\tdata.users.forEach((user) => {\r\n\t\t\t\t\tif (review.author === user._id) {\r\n\t\t\t\t\t\tnewReviews.push(\r\n\t\t\t\t\t\t\t(review = {\r\n\t\t\t\t\t\t\t\t...review,\r\n\t\t\t\t\t\t\t\t...user,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn newReviews;\r\n\t\t}\r\n\r\n\t\treturn reviews;\r\n\t}\r\n);\r\n\r\nexport const teachersSlice = createSlice({\r\n\tname: 'teachers',\r\n\tinitialState: {\r\n\t\titems: [],\r\n\t\tfilter: '',\r\n\t\tteacher: {},\r\n\t\tloading: 'idle',\r\n\t\terror: null,\r\n\t},\r\n\treducers: {\r\n\t\tsetTeacher: (state, action) => {\r\n\t\t\tconst teacher = state.items.find((item) => item._id === action.payload);\r\n\t\t\tstate.teacher = teacher;\r\n\t\t},\r\n\t\tsetFilter: (state, action) => {\r\n\t\t\tstate.filter = action.payload;\r\n\t\t},\r\n\t\tsortItems: (state, action) => {\r\n\t\t\tswitch (action.payload) {\r\n\t\t\t\tcase 'pointsAsc':\r\n\t\t\t\t\tstate.items.sort(\r\n\t\t\t\t\t\tbyField('reviews', true, (item) => countRating(item))\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'pointsDesc':\r\n\t\t\t\t\tstate.items.sort(\r\n\t\t\t\t\t\tbyField('reviews', false, (item) => countRating(item))\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'reviews':\r\n\t\t\t\t\tstate.items.sort(byField('reviews', true, (item) => item.length));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'corses':\r\n\t\t\t\t\tstate.items.sort(\r\n\t\t\t\t\t\tbyField('teacherCourses', true, (item) => item.length)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tstate.items.sort(\r\n\t\t\t\t\t\tbyField('reviews', true, (item) => countRating(item))\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\textraReducers: {\r\n\t\t[fetchTeachers.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeachers.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.items = action.payload.users;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeachers.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t[fetchTeacher.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeacher.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.teacher = action.payload;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeacher.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t[fetchTeacherCourses.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeacherCourses.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.teacher.teacherCourses = action.payload.courses;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeacherCourses.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t[fetchTeacherReviews.pending]: (state) => {\r\n\t\t\tif (state.loading === 'idle') {\r\n\t\t\t\tstate.loading = 'pending';\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeacherReviews.fulfilled]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.teacher.reviews = action.payload;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[fetchTeacherReviews.rejected]: (state, action) => {\r\n\t\t\tif (state.loading === 'pending') {\r\n\t\t\t\tstate.loading = 'idle';\r\n\t\t\t\tstate.error = action.error;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { setTeacher, sortItems, setFilter } = teachersSlice.actions;\r\n\r\nexport default teachersSlice.reducer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { declOfNum, countRating } from '../../util';\r\nimport { Star } from '../../assets/icons';\r\n\r\nconst TeacherBig = React.memo(({ data, profileBtnHandler }) => {\r\n\tconst openTeacherProfile = () => {\r\n\t\tprofileBtnHandler(data._id);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='teacher-big'>\r\n\t\t\t<img src={data.avatar} alt='Аватар' className='teacher-big__avatar' />\r\n\t\t\t<div className='teacher-big__container'>\r\n\t\t\t\t<h4 className='teacher-big__name'>{data.username}</h4>\r\n\t\t\t\t<span className='teacher-big__subject'>{data.subject}</span>\r\n\t\t\t\t<span className='teacher-big__count'>\r\n\t\t\t\t\t{data.teacherCourses.length}{' '}\r\n\t\t\t\t\t{declOfNum(data.teacherCourses.length, ['курс', 'курса', 'курсов'])}\r\n\t\t\t\t</span>\r\n\t\t\t\t<div className='teacher-big__desc'>{data.desc}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='teacher-big__container teacher-big__container--flex'>\r\n\t\t\t\t<span className='teacher-big__rating'>\r\n\t\t\t\t\t<Star size={16} /> {countRating(data.reviews)}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className='teacher-big__review'>\r\n\t\t\t\t\t{data.reviews.length}{' '}\r\n\t\t\t\t\t{declOfNum(data.reviews.length, ['отзыв', 'отзыва', 'отзывов'])}\r\n\t\t\t\t</span>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={openTeacherProfile}\r\n\t\t\t\t\tclassName='btn btn--transparent teacher-big__btn'\r\n\t\t\t\t\ttype='button'>\r\n\t\t\t\t\tПрофиль\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nTeacherBig.propTypes = {\r\n\tdata: PropTypes.object,\r\n\tprofileBtnHandler: PropTypes.func,\r\n};\r\n\r\nexport default TeacherBig;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TeachersFiltration = React.memo(\r\n\t({ subjects, filteringHandler, parametersItems, parametersHandler }) => {\r\n\t\tconst setFilter = (event) => {\r\n\t\t\tfilteringHandler(event.target.value);\r\n\t\t};\r\n\r\n\t\tconst setParameter = (event) => {\r\n\t\t\tparametersHandler(event.target.value);\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className='teachers__filtration'>\r\n\t\t\t\t<h3 className='form__title'>Фильтрация</h3>\r\n\t\t\t\t<form className='form'>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<label className='form__label' htmlFor='filterSubjects'>\r\n\t\t\t\t\t\t\tПредмет\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName='form__select'\r\n\t\t\t\t\t\t\tname='filtering'\r\n\t\t\t\t\t\t\tid='filterSubjects'\r\n\t\t\t\t\t\t\tonChange={setFilter}>\r\n\t\t\t\t\t\t\t<option value=''>Все</option>\r\n\t\t\t\t\t\t\t{subjects.length &&\r\n\t\t\t\t\t\t\t\tsubjects.map((subject) => (\r\n\t\t\t\t\t\t\t\t\t<option key={subject._id} value={subject.name}>\r\n\t\t\t\t\t\t\t\t\t\t{subject.name}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t<label className='form__label' htmlFor='filterParameters'>\r\n\t\t\t\t\t\t\tПараметры\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName='form__select'\r\n\t\t\t\t\t\t\tname='parameters'\r\n\t\t\t\t\t\t\tid='filterParameters'\r\n\t\t\t\t\t\t\tonChange={setParameter}>\r\n\t\t\t\t\t\t\t<option value=''>Выбирите параметр</option>\r\n\t\t\t\t\t\t\t{parametersItems.map((item) => (\r\n\t\t\t\t\t\t\t\t<option key={item.value} value={item.value}>\r\n\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nTeachersFiltration.propTypes = {\r\n\tsubjects: PropTypes.array,\r\n\tfilteringHandler: PropTypes.func,\r\n\tparametersItems: PropTypes.array,\r\n\tparametersHandler: PropTypes.func,\r\n};\r\n\r\nexport default TeachersFiltration;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tfetchTeachers,\r\n\tsortItems,\r\n\tsetFilter,\r\n} from '../../redux/reducers/teachersSlice';\r\nimport { fetchSubjects } from '../../redux/reducers/subjectsSlice';\r\nimport {\r\n\tsetTeacher,\r\n\tfetchTeacherCourses,\r\n\tfetchTeacherReviews,\r\n} from '../../redux/reducers/teachersSlice';\r\nimport { getSubjects } from '../../redux/selectors';\r\nimport TeacherBig from './TeacherBig';\r\nimport TeachersFiltration from './TeachersFiltration';\r\nimport { Loader } from '../../Components';\r\n\r\nconst parametersItems = [\r\n\t{ name: 'Оценка: высокая', value: 'pointsAsc' },\r\n\t{ name: 'Оценка: низкая', value: 'pointsDesc' },\r\n\t{ name: 'Количество отзывов', value: 'reviews' },\r\n\t{ name: 'Количество курсов', value: 'corses' },\r\n];\r\n\r\nexport const Teachers = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst teachers = useSelector((state) => {\r\n\t\tconst filter = state.teachers.filter;\r\n\t\tconst all = state.teachers.items;\r\n\r\n\t\tif (filter !== '') {\r\n\t\t\tconst filteredArr = all.filter((item) => item.subject === filter);\r\n\t\t\treturn filteredArr.length ? filteredArr : all;\r\n\t\t}\r\n\r\n\t\treturn all;\r\n\t});\r\n\tconst subjects = useSelector(getSubjects);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (!teachers.length) {\r\n\t\t\tdispatch(fetchTeachers());\r\n\t\t}\r\n\r\n\t\tif (!subjects.length) {\r\n\t\t\tdispatch(fetchSubjects());\r\n\t\t}\r\n\t}, [dispatch]);\r\n\r\n\tconst parametersHandler = React.useCallback(\r\n\t\t(type) => {\r\n\t\t\tdispatch(sortItems(type));\r\n\t\t},\r\n\t\t[dispatch]\r\n\t);\r\n\r\n\tconst filteringHandler = React.useCallback(\r\n\t\t(name) => {\r\n\t\t\tdispatch(setFilter(name));\r\n\t\t},\r\n\t\t[dispatch]\r\n\t);\r\n\r\n\tconst profileBtnHandler = React.useCallback(\r\n\t\tasync (id) => {\r\n\t\t\tawait dispatch(setTeacher(id));\r\n\t\t\tawait dispatch(fetchTeacherCourses(id));\r\n\t\t\tawait dispatch(fetchTeacherReviews());\r\n\r\n\t\t\thistory.push(`teacher/${id}`, { id });\r\n\t\t},\r\n\t\t[dispatch, history]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<main className='main'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='content'>\r\n\t\t\t\t\t<div className='content__main'>\r\n\t\t\t\t\t\t<div className='teachers'>\r\n\t\t\t\t\t\t\t{teachers.length ? (\r\n\t\t\t\t\t\t\t\tteachers.map((teacher) => (\r\n\t\t\t\t\t\t\t\t\t<div className='teachers__item' key={teacher._id}>\r\n\t\t\t\t\t\t\t\t\t\t<TeacherBig\r\n\t\t\t\t\t\t\t\t\t\t\tdata={teacher}\r\n\t\t\t\t\t\t\t\t\t\t\tprofileBtnHandler={profileBtnHandler}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Loader text={'Загрузка учителей'} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='content__aside'>\r\n\t\t\t\t\t\t<TeachersFiltration\r\n\t\t\t\t\t\t\tsubjects={subjects}\r\n\t\t\t\t\t\t\tfilteringHandler={filteringHandler}\r\n\t\t\t\t\t\t\tparametersItems={parametersItems}\r\n\t\t\t\t\t\t\tparametersHandler={parametersHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchUserInfo } from '../../redux/reducers/userInfoSlice';\r\nimport {\r\n\tfetchTeacher,\r\n\tfetchTeacherReviews,\r\n} from '../../redux/reducers/teachersSlice';\r\nimport { getUserInfo, getTeacher } from '../../redux/selectors';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport { Loader } from '../../Components';\r\nimport { declOfNum, countRating, countStudents } from '../../util';\r\nimport { Star, People } from '../../assets/icons';\r\n\r\nexport const Teacher = ({ match }) => {\r\n\tconst { request } = useAuthFetch();\r\n\tconst dispatch = useDispatch();\r\n\tconst teacher = useSelector(getTeacher);\r\n\tconst info = useSelector(getUserInfo);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst loadTeacherData = async (id) => {\r\n\t\t\tawait dispatch(fetchTeacher(id));\r\n\t\t\tawait dispatch(fetchTeacherReviews());\r\n\t\t};\r\n\r\n\t\tif (Object.keys(teacher).length === 0 && match.params.id) {\r\n\t\t\tloadTeacherData(match.params.id);\r\n\t\t}\r\n\t}, [dispatch, match.params.id, teacher]);\r\n\r\n\tconst deleteBtnHandler = () => {\r\n\t\trequest('/api/school/delreview', 'DELETE', {\r\n\t\t\tteacher: teacher._id,\r\n\t\t});\r\n\t};\r\n\r\n\tconst subscribeToCourse = (id) => {\r\n\t\trequest(`/api/school/subscribe/${id}`, 'POST', {}, () => {\r\n\t\t\tdispatch(fetchUserInfo());\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<main className='main'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t{Object.keys(teacher).length !== 0 ? (\r\n\t\t\t\t\t<div className='teacher-full'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={teacher.avatar}\r\n\t\t\t\t\t\t\talt='Аватар'\r\n\t\t\t\t\t\t\tclassName='teacher-full__avatar'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='teacher-full__container teacher-full__container--flex'>\r\n\t\t\t\t\t\t\t<h2 className='teacher-full__name'>{teacher.username}</h2>\r\n\t\t\t\t\t\t\t<span className='teacher-full__discipline'>\r\n\t\t\t\t\t\t\t\t{teacher.subject}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='teacher-full__disciple'>\r\n\t\t\t\t\t\t\t\t<People size={16} /> {countStudents(teacher.teacherCourses)}{' '}\r\n\t\t\t\t\t\t\t\t{declOfNum(countStudents(teacher.teacherCourses), [\r\n\t\t\t\t\t\t\t\t\t'ученик',\r\n\t\t\t\t\t\t\t\t\t'ученика',\r\n\t\t\t\t\t\t\t\t\t'учеников',\r\n\t\t\t\t\t\t\t\t])}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='teacher-full__count'>\r\n\t\t\t\t\t\t\t\t{teacher.teacherCourses.length}{' '}\r\n\t\t\t\t\t\t\t\t{declOfNum(teacher.teacherCourses.length, [\r\n\t\t\t\t\t\t\t\t\t'курс',\r\n\t\t\t\t\t\t\t\t\t'курса',\r\n\t\t\t\t\t\t\t\t\t'курсов',\r\n\t\t\t\t\t\t\t\t])}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='teacher-full__rating'>\r\n\t\t\t\t\t\t\t\t<Star size={16} /> {countRating(teacher.reviews)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<p className='teacher-full__desc'>{teacher.desc}</p>\r\n\t\t\t\t\t\t\t<span className='teacher-full__title'>Резюме</span>\r\n\t\t\t\t\t\t\t<div className='teacher-full__summary'>\r\n\t\t\t\t\t\t\t\t<div className='teacher-full__work'>\r\n\t\t\t\t\t\t\t\t\t<div className='teacher-full__mini-title'>Работа</div>\r\n\t\t\t\t\t\t\t\t\t{teacher.experience}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='teacher-full_education'>\r\n\t\t\t\t\t\t\t\t\t<div className='teacher-full__mini-title'>Образование</div>\r\n\t\t\t\t\t\t\t\t\t{teacher.education}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span className='teacher-full__title'>Типы курсов</span>\r\n\t\t\t\t\t\t\t<div className='teacher-full__subjects'>\r\n\t\t\t\t\t\t\t\t{teacher.teacherCourses.length ? (\r\n\t\t\t\t\t\t\t\t\tteacher.teacherCourses.map((course) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className='teacher-full__subject' key={course._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='teacher-full__container'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='teacher-full__mini-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{course.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='teacher-full__lessons'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{course.lessons.length}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{declOfNum(course.lessons.length, [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'занятие',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'занятия',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'занятий',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t])}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Купить курс'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => subscribeToCourse(course._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{course.price} грн\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>Курсов нет</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span className='teacher-full__title'>Отзывы</span>\r\n\t\t\t\t\t\t\t<span className='teacher-full__reviews-count'>\r\n\t\t\t\t\t\t\t\t{teacher.reviews.length}{' '}\r\n\t\t\t\t\t\t\t\t{declOfNum(teacher.reviews.length, [\r\n\t\t\t\t\t\t\t\t\t'отзыв',\r\n\t\t\t\t\t\t\t\t\t'отзыва',\r\n\t\t\t\t\t\t\t\t\t'отзывов',\r\n\t\t\t\t\t\t\t\t])}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<div className='teacher-full__reviews'>\r\n\t\t\t\t\t\t\t\t{teacher.reviews.length ? (\r\n\t\t\t\t\t\t\t\t\tteacher.reviews.map((review) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className='teacher-full__review' key={review._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={review.avatar}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt='Аватар'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='teacher-full__avatar teacher-full__avatar--min'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='teacher-full__container'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className='teacher-full__name'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{review.username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='teacher-full__rating'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Star size={16} /> {review.rating}/10\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='teacher-full__desc teacher-full__desc--nonemb'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{review.text}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{review.author === info._id && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='teacher-full__review-del'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Удалить отзыв'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={deleteBtnHandler}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&#215;\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>Отзывов нет</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Loader text='Загрузка данных учителя' />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","import { FieldArray } from 'formik';\r\nimport { FormInput, FormCheckbox } from '../../Components';\r\n\r\nconst emptyAnswer = {\r\n\ttext: '',\r\n\tisTrue: false,\r\n};\r\n\r\nconst TasksAnswers = ({ index, values }) => {\r\n\treturn (\r\n\t\t<FieldArray name={`questions[${index}].answers`}>\r\n\t\t\t{(arrayHelpers) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h5 className='form__title'>Ответы</h5>\r\n\t\t\t\t\t{values.map((_, sIndex) => (\r\n\t\t\t\t\t\t<fieldset\r\n\t\t\t\t\t\t\tclassName='form__fieldset form__fieldset--flex'\r\n\t\t\t\t\t\t\tkey={sIndex}>\r\n\t\t\t\t\t\t\t<span>{sIndex + 1}</span>\r\n\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\t\tlabel='Ответ вопроса'\r\n\t\t\t\t\t\t\t\t\tname={`questions[${index}].answers[${sIndex}].text`}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t<FormCheckbox\r\n\t\t\t\t\t\t\t\t\tlabel='Правильный ответ?'\r\n\t\t\t\t\t\t\t\t\tname={`questions[${index}].answers[${sIndex}].isTrue`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\ttitle='Удалить ответ'\r\n\t\t\t\t\t\t\t\tclassName='btn btn--transparent'\r\n\t\t\t\t\t\t\t\tstyle={{ alignSelf: 'center' }}\r\n\t\t\t\t\t\t\t\tonClick={() => arrayHelpers.remove(sIndex)}>\r\n\t\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tclassName='btn btn--transparent'\r\n\t\t\t\t\t\tonClick={() => arrayHelpers.push(emptyAnswer)}>\r\n\t\t\t\t\t\tДобавить ответ\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</FieldArray>\r\n\t);\r\n};\r\n\r\nexport default TasksAnswers;\r\n","import TasksAnswers from './TasksAnswers';\r\nimport { FormInput, FormCheckbox } from '../../Components';\r\n\r\nconst emptyQuestion = {\r\n\ttitle: '',\r\n\tpoints: '',\r\n\tisMulAnswers: false,\r\n\tanswers: [\r\n\t\t{\r\n\t\t\ttext: '',\r\n\t\t\tisTrue: false,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: '',\r\n\t\t\tisTrue: false,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nconst TasksQuestions = ({ values, helpers }) => {\r\n\treturn (\r\n\t\t<div className='form__container'>\r\n\t\t\t<h4 className='form__title'>Все вопросы</h4>\r\n\t\t\t{values.map((question, index) => (\r\n\t\t\t\t<div className='form__question' key={index}>\r\n\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\tlabel='Название вопроса'\r\n\t\t\t\t\t\t\t\tname={`questions[${index}].title`}\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\tlabel='Количество баллов'\r\n\t\t\t\t\t\t\t\tname={`questions[${index}].points`}\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t<FormCheckbox\r\n\t\t\t\t\t\t\t\tlabel='Несколько ответов'\r\n\t\t\t\t\t\t\t\tname={`questions[${index}].isMulAnswers`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\ttitle='Удалить вопрос'\r\n\t\t\t\t\t\t\tclassName='btn btn--transparent'\r\n\t\t\t\t\t\t\tstyle={{ alignSelf: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => helpers.remove(index)}>\r\n\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t<TasksAnswers index={index} values={question.answers} />\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t\t<button\r\n\t\t\t\ttype='button'\r\n\t\t\t\tclassName='btn btn--transparent'\r\n\t\t\t\tonClick={() => helpers.push(emptyQuestion)}>\r\n\t\t\t\tДобавить вопрос\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TasksQuestions;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { selectAssignmentById } from '../../redux/reducers/userInfoSlice';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst TasksAssignment = ({ assignmentID, courseID, openTaskHandeler }) => {\r\n\tconst assignment = useSelector((state) =>\r\n\t\tselectAssignmentById(state, assignmentID)\r\n\t);\r\n\r\n\tconst openTask = () => {\r\n\t\topenTaskHandeler(assignmentID, courseID);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='subject__task'>\r\n\t\t\t<div className='subject__task-name'>{assignment.title}</div>\r\n\t\t\t<button className='btn' type='button' onClick={openTask}>\r\n\t\t\t\tОткрыть\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTasksAssignment.propTypes = {\r\n\tassignmentID: PropTypes.string,\r\n\tcourseID: PropTypes.string,\r\n\topenTaskHandeler: PropTypes.func,\r\n};\r\n\r\nexport default TasksAssignment;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Formik, Form, FieldArray } from 'formik';\r\nimport { nanoid } from '@reduxjs/toolkit';\r\nimport {\r\n\tfetchTeacherCourses,\r\n\tselectAllTeacherCourses,\r\n\tteacherAssignmentAdd,\r\n} from '../../redux/reducers/userInfoSlice';\r\nimport {\r\n\tfetchTaskForTeacher,\r\n\tfetchStatisticForTeacher,\r\n} from '../../redux/reducers/taskSlice';\r\nimport { getUserInfo } from '../../redux/selectors';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport TasksQuestions from './TasksQuestions';\r\nimport TasksAssignment from './TasksAssignment';\r\nimport {\r\n\tFormInput,\r\n\tFormTextarea,\r\n\tFormCheckbox,\r\n\tFormSelect,\r\n\tLoader,\r\n} from '../../Components';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n\tcourseID: yup.string().required('Выберите курс'),\r\n\ttitle: yup.string().required('Название курса обязательно'),\r\n\tdesc: yup.string().required('Описание курса обязательно'),\r\n\tisShuffled: yup.boolean(),\r\n\tallowOvertime: yup.boolean(),\r\n\tdate: yup.date().required('Выберите начало урока'),\r\n\tendDate: yup.date().required('Выберите конец урока'),\r\n\tquestions: yup\r\n\t\t.array(\r\n\t\t\tyup.object({\r\n\t\t\t\ttitle: yup.string().required('Название вопроса обязательно'),\r\n\t\t\t\tpoints: yup.number().required('Выберите количесво баллов'),\r\n\t\t\t\tisMulAnswers: yup.boolean(),\r\n\t\t\t\tanswers: yup\r\n\t\t\t\t\t.array(\r\n\t\t\t\t\t\tyup.object({\r\n\t\t\t\t\t\t\ttext: yup.string().required('Название ответа обязательно'),\r\n\t\t\t\t\t\t\tisTrue: yup.boolean(),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.min(2, 'Минимум 2 ответа'),\r\n\t\t\t})\r\n\t\t)\r\n\t\t.min(1, 'Минимум 1 вопрос'),\r\n});\r\n\r\nconst emptyQuestion = {\r\n\ttitle: '',\r\n\tpoints: '',\r\n\tisMulAnswers: false,\r\n\tanswers: [\r\n\t\t{\r\n\t\t\ttext: '',\r\n\t\t\tisTrue: false,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: '',\r\n\t\t\tisTrue: false,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport const Tasks = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useAuthFetch();\r\n\tconst history = useHistory();\r\n\r\n\tconst info = useSelector(getUserInfo);\r\n\tconst teacherCourses = useSelector(selectAllTeacherCourses);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (info.teacherCourses.length && !teacherCourses.length) {\r\n\t\t\tdispatch(fetchTeacherCourses());\r\n\t\t}\r\n\t});\r\n\r\n\tconst openTaskHandeler = async (taskID, courseID) => {\r\n\t\tawait dispatch(fetchTaskForTeacher(taskID));\r\n\t\tawait dispatch(fetchStatisticForTeacher(taskID));\r\n\t\thistory.push('/previewTask', { taskID, courseID });\r\n\t};\r\n\r\n\tconst formSubmitHandler = async (formData, actions) => {\r\n\t\trequest('/api/school/newassignment', 'POST', formData, {}, () => {\r\n\t\t\tconst id = nanoid();\r\n\t\t\tdispatch(\r\n\t\t\t\tteacherAssignmentAdd({\r\n\t\t\t\t\tcourseID: formData.courseID,\r\n\t\t\t\t\tassignmentID: id,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t_id: id,\r\n\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tactions.resetForm();\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<main className='main'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='content'>\r\n\t\t\t\t\t{info.teacherCourses.length ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className='content__main'>\r\n\t\t\t\t\t\t\t\t{teacherCourses.length ? (\r\n\t\t\t\t\t\t\t\t\t<Formik\r\n\t\t\t\t\t\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\t\t\t\t\t\tcourseID: '',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t\t\t\t\tdesc: '',\r\n\t\t\t\t\t\t\t\t\t\t\tisShuffled: false,\r\n\t\t\t\t\t\t\t\t\t\t\tallowOvertime: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdate: '',\r\n\t\t\t\t\t\t\t\t\t\t\tendDate: '',\r\n\t\t\t\t\t\t\t\t\t\t\tquestions: [emptyQuestion],\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\t\t\t\t\t\tformSubmitHandler(values, actions);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{({ values, errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form className='form tasks__form'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className='form__title'>Добавить новое задание</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormSelect label='Выбирете прдемет' name='courseID'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>Выберите предмет</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{teacherCourses.map((course) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={course._id} value={course._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{course.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormSelect>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Название задания'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormTextarea label='Описание задания' name='desc' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Перемешивать вопросы?'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='isShuffled'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Поздняя сдача'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='allowOvertime'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset form__fieldset--flex'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Начало занятия'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='date'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Конец занятия'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FieldArray name='questions'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(arrayHelpers) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TasksQuestions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues={values.questions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelpers={arrayHelpers}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__error form-mb'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{typeof errors.questions === 'string' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>{errors.questions}</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tДобавить новое задание\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Formik>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Loader text={'Загрузка формы'} />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='content__aside'>\r\n\t\t\t\t\t\t\t\t{teacherCourses.length ? (\r\n\t\t\t\t\t\t\t\t\t<div className='tasks__subjects'>\r\n\t\t\t\t\t\t\t\t\t\t{teacherCourses.map((course) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='subject' key={course._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='subject__container'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='subject__row '>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='subject__title'>{course.title}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='subject__container'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='mr-10'>{course.price} грн</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='subject__tasks'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 0 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{course.assignmentsIds.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcourse.assignmentsIds.map((assignmentID) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TasksAssignment\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={assignmentID}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tassignmentID={assignmentID}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcourseID={course._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topenTaskHandeler={openTaskHandeler}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Заданий нет</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Loader text='Загрузка заданий' />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>Созданных курсов нет</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Formik, Form, FieldArray } from 'formik';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport { FormCheckbox } from '../../Components';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n\tassignmentID: yup.string().required(),\r\n\tquestions: yup.array(\r\n\t\tyup.object({\r\n\t\t\tanswers: yup\r\n\t\t\t\t.array(\r\n\t\t\t\t\tyup.object({\r\n\t\t\t\t\t\tisChecked: yup.boolean(),\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t\t.test('Выбран ответ ?', 'Не выбран ответ', (answers) => {\r\n\t\t\t\t\tlet sum = 0;\r\n\r\n\t\t\t\t\tfor (let i = 0; i < answers.length; i++) {\r\n\t\t\t\t\t\tif (answers[i]?.isChecked) {\r\n\t\t\t\t\t\t\tsum += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!sum) return false;\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}),\r\n\t\t})\r\n\t),\r\n});\r\n\r\nconst TaskForm = ({ item, setSubmit }) => {\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst formSubmitHandler = (formData) => {\r\n\t\trequest('/api/school/submit', 'POST', formData, {}, () => {\r\n\t\t\tsetSubmit(true);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{\r\n\t\t\t\tassignmentID: item._id,\r\n\t\t\t\tquestions: item.questions,\r\n\t\t\t}}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={(values) => {\r\n\t\t\t\tformSubmitHandler(values);\r\n\t\t\t}}>\r\n\t\t\t{({ errors }) => (\r\n\t\t\t\t<Form className='form'>\r\n\t\t\t\t\t<FieldArray name='questions'>\r\n\t\t\t\t\t\t<div className='questions'>\r\n\t\t\t\t\t\t\t{item.questions.map((question, index) => (\r\n\t\t\t\t\t\t\t\t<div className='question' key={question.qID}>\r\n\t\t\t\t\t\t\t\t\t<h4 className='question__title'>{question.title}</h4>\r\n\t\t\t\t\t\t\t\t\t<div className='question__info'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='question__points'>\r\n\t\t\t\t\t\t\t\t\t\t\tКоличество баллов: {question.points}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\tМножество ответов: {question.isMulAnswers ? '✅' : '❌'}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='question__answers'>\r\n\t\t\t\t\t\t\t\t\t\t<FieldArray name={`questions[${index}].answers`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{question.answers.map((answer, sIndex) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<fieldset className='form__fieldset' key={answer.nID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormCheckbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={answer.text}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`questions[${index}].answers[${sIndex}].isChecked`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t<div className='form__error form-mb'>\r\n\t\t\t\t\t\t{errors?.questions &&\r\n\t\t\t\t\t\t\terrors.questions.map((question, index) =>\r\n\t\t\t\t\t\t\t\tquestion ? (\r\n\t\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{question?.answers} в {index + 1} вопросе\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\tОтправить\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Form>\r\n\t\t\t)}\r\n\t\t</Formik>\r\n\t);\r\n};\r\n\r\nTaskForm.propTypes = {\r\n\titem: PropTypes.object,\r\n\tsetSubmit: PropTypes.func,\r\n};\r\n\r\nexport default TaskForm;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst TaskResults = ({ results }) => {\r\n\treturn (\r\n\t\t<div className='questions'>\r\n\t\t\t<h4 className='question__title'>Количество баллов: {results.points}</h4>\r\n\t\t\t{results.questions.map((question) => (\r\n\t\t\t\t<div className='question' key={question.qID}>\r\n\t\t\t\t\t<h4 className='question__title'>{question.title}</h4>\r\n\t\t\t\t\t<div className='question__info'>\r\n\t\t\t\t\t\t<div className='question__points'>\r\n\t\t\t\t\t\t\tКоличество баллов: {question.points}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>Множество ответов: {question.isMulAnswers ? '✅' : '❌'}</div>\r\n\t\t\t\t\t\t<div>Правильно: {question.isCorrect ? '✅' : '❌'}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='question__answers'>\r\n\t\t\t\t\t\t{question.answers.map((answer) => (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t'question__answer ' +\r\n\t\t\t\t\t\t\t\t\t(answer.isChecked ? 'question__answer--checked' : '')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tkey={answer._id}>\r\n\t\t\t\t\t\t\t\t<div>{answer.text}</div>\r\n\t\t\t\t\t\t\t\t<div>{answer.isCorrect === answer.isChecked ? '✔️' : '❌'}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nTaskResults.propTypes = {\r\n\tresults: PropTypes.object,\r\n};\r\n\r\nexport default TaskResults;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getTask } from '../../redux/selectors';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\nimport TaskForm from './TaskForm';\r\nimport TaskResults from './TaskResults';\r\n\r\nexport const Task = () => {\r\n\tconst [submit, setSubmit] = React.useState(false);\r\n\tconst [results, setResults] = React.useState();\r\n\r\n\tconst item = useSelector(getTask);\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (Object.keys(item).length === 0) {\r\n\t\t\thistory.push('/home');\r\n\t\t}\r\n\t});\r\n\r\n\tconst deleteBtnHandler = () => {\r\n\t\trequest('/api/school/delsubmit', 'DELETE', {\r\n\t\t\tassignmentID: item._id,\r\n\t\t});\r\n\t};\r\n\r\n\tconst getResultsBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t'/api/school/getsubmit',\r\n\t\t\t'POST',\r\n\t\t\t{\r\n\t\t\t\tassignmentID: item._id,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t(results) => {\r\n\t\t\t\tsetResults(results.submit);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\tconsole.log('Task rendered');\r\n\treturn (\r\n\t\t<main className='main'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t{Object.keys(item).length !== 0 ? (\r\n\t\t\t\t\t<div className='task'>\r\n\t\t\t\t\t\t<h2 className='task__title'>{item.title}</h2>\r\n\t\t\t\t\t\t<p className='task__desc'>{item.desc}</p>\r\n\t\t\t\t\t\t<span className='task__min-title'>Описание</span>\r\n\t\t\t\t\t\t<div className='task__info'>\r\n\t\t\t\t\t\t\t<div>Перемешано: {item.isShuffled ? '✅' : '❌'}</div>\r\n\t\t\t\t\t\t\t<div>Поздняя сдача: {item.allowOvertime ? '✅' : '❌'}</div>\r\n\t\t\t\t\t\t\t<div className='task__points'>\r\n\t\t\t\t\t\t\t\tМаксимально баллов: {item.maxPoints}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className='task__min-title'>Время</span>\r\n\t\t\t\t\t\t<div className='task__times'>\r\n\t\t\t\t\t\t\t<div className='task__time'>Начало задания: {item.date}</div>\r\n\t\t\t\t\t\t\t<div className='task__time'>Конец задания: {item.endDate}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className='task__min-title'>Вопросы</span>\r\n\t\t\t\t\t\t{!submit && <TaskForm item={item} setSubmit={setSubmit} />}\r\n\t\t\t\t\t\t{submit && results && <TaskResults results={results} />}\r\n\t\t\t\t\t\t{submit && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className='task__btns'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\tonClick={deleteBtnHandler}>\r\n\t\t\t\t\t\t\t\t\t\tУдалить ответы\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\tonClick={getResultsBtnHandler}>\r\n\t\t\t\t\t\t\t\t\t\tПолучить результаты\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>Вы не выбрали задание</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getTask, getStatistic } from '../../redux/selectors';\r\nimport { teacherAssignmentDelete } from '../../redux/reducers/userInfoSlice';\r\nimport { useAuthFetch } from '../../hooks/authFetch.hook';\r\n\r\nexport const PreviewTask = ({ location }) => {\r\n\tconst item = useSelector(getTask);\r\n\tconst statistic = useSelector(getStatistic);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (Object.keys(item).length === 0) {\r\n\t\t\thistory.push('/tasks');\r\n\t\t}\r\n\t});\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useAuthFetch();\r\n\r\n\tconst deleteBtnHandler = () => {\r\n\t\trequest(\r\n\t\t\t'/api/school/delassignment',\r\n\t\t\t'DELETE',\r\n\t\t\t{\r\n\t\t\t\tcourseID: location.state.courseID,\r\n\t\t\t\tassignmentID: location.state.taskID,\r\n\t\t\t},\r\n\t\t\t{},\r\n\t\t\t() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tteacherAssignmentDelete({\r\n\t\t\t\t\t\tcourseID: location.state.courseID,\r\n\t\t\t\t\t\tassignmentID: location.state.taskID,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\thistory.push('/tasks');\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<main className='main'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t{Object.keys(item).length !== 0 ? (\r\n\t\t\t\t\t<div className='content'>\r\n\t\t\t\t\t\t<div className='content__main'>\r\n\t\t\t\t\t\t\t<div className='task'>\r\n\t\t\t\t\t\t\t\t<h2 className='task__title'>{item.title}</h2>\r\n\t\t\t\t\t\t\t\t<p className='task__desc'>{item.desc}</p>\r\n\t\t\t\t\t\t\t\t<span className='task__min-title'>Описание</span>\r\n\t\t\t\t\t\t\t\t<div className='task__info'>\r\n\t\t\t\t\t\t\t\t\t<div>Перемешано: {item.isShuffled ? '✅' : '❌'}</div>\r\n\t\t\t\t\t\t\t\t\t<div>Поздняя сдача: {item.allowOvertime ? '✅' : '❌'}</div>\r\n\t\t\t\t\t\t\t\t\t<div className='task__points'>\r\n\t\t\t\t\t\t\t\t\t\tМаксимально баллов: {item.maxPoints}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>Сдано: {item.submits.length}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span className='task__min-title'>Время</span>\r\n\t\t\t\t\t\t\t\t<div className='task__times'>\r\n\t\t\t\t\t\t\t\t\t<div className='task__time'>Начало задания: {item.date}</div>\r\n\t\t\t\t\t\t\t\t\t<div className='task__time'>\r\n\t\t\t\t\t\t\t\t\t\tКонец задания: {item.endDate}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span className='task__min-title'>Вопросы</span>\r\n\t\t\t\t\t\t\t\t<div className='questions'>\r\n\t\t\t\t\t\t\t\t\t{item.questions.map((question) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className='question' key={question._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h4 className='question__title'>{question.title}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='question__info'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='question__points'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tКоличество баллов: {question.points}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tМножество ответов:{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{question.isMulAnswers ? '✅' : '❌'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='question__answers'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{question.answers.map((answer) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='question__answer' key={answer._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{answer.text}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Правильный: {answer.isTrue ? '✅' : '❌'}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\ttitle={`Удалить задание ${item.title}`}\r\n\t\t\t\t\t\t\t\t\tonClick={deleteBtnHandler}>\r\n\t\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='content__aside'>\r\n\t\t\t\t\t\t\t<div className='statistic'>\r\n\t\t\t\t\t\t\t\t<h4 className='statistic__title'>Студенты</h4>\r\n\t\t\t\t\t\t\t\t<div className='statistic__students'>\r\n\t\t\t\t\t\t\t\t\t{statistic.best_students.length ? (\r\n\t\t\t\t\t\t\t\t\t\tstatistic.best_students.map((student) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='statistic__student' key={student._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='statistic__avatar'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={student.avatar}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt='Аватар'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='statistic__container'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='statistic__name'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{student.username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='statistic__email'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{student.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Баллов: {student.points}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div>Студентов нет</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<h4 className='statistic__title'>Вопросы</h4>\r\n\t\t\t\t\t\t\t\t<div className='statistic__questions'>\r\n\t\t\t\t\t\t\t\t\t{statistic.hardest_questions.length ? (\r\n\t\t\t\t\t\t\t\t\t\tstatistic.hardest_questions.map((question) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='statistic__question' key={question.qID}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5>{question.title}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Баллов: {question.points}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tПравильных ответов: {question.correct_answers}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div>Вопросов нет</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>Вы не выбрали зажание</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchUserInfo } from './redux/reducers/userInfoSlice';\nimport { getUserInfo } from './redux/selectors';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { useRoutes } from './hooks/routes.hook';\nimport { createAuthProvider } from './jwt';\nimport { Loader, Notifications } from './Components';\n\nconst App = () => {\n\tconst { useAuth } = createAuthProvider();\n\tconst logged = useAuth();\n\tconst isAuthenticated = !!logged;\n\tconst routes = useRoutes(isAuthenticated);\n\n\tconst dispatch = useDispatch();\n\tconst info = useSelector(getUserInfo);\n\n\tReact.useEffect(() => {\n\t\tif (Object.keys(info).length === 0 && logged) {\n\t\t\tdispatch(fetchUserInfo());\n\t\t}\n\t});\n\tconsole.log('App rendered');\n\treturn (\n\t\t<div className='App'>\n\t\t\t<Notifications />\n\t\t\t{Object.keys(info).length === 0 && logged ? (\n\t\t\t\t<Loader text='Загрузка данных пользователя' />\n\t\t\t) : (\n\t\t\t\t<Router>{routes}</Router>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import { Switch, Route, Redirect } from 'react-router-dom';\r\nimport {\r\n\tHome,\r\n\tTeachers,\r\n\tEditProfile,\r\n\tTeacher,\r\n\tTasks,\r\n\tTask,\r\n\tPreviewTask,\r\n\tMain,\r\n\tLogin,\r\n\tSignup,\r\n} from '../pages';\r\nimport { Header, ScrollToTop } from '../Components';\r\n\r\nexport const useRoutes = (isAuthenticated) => {\r\n\tif (isAuthenticated) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<ScrollToTop />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path='/home' component={Home} />\r\n\t\t\t\t\t<Route path='/teachers' component={Teachers} />\r\n\t\t\t\t\t<Route path='/editProfile' component={EditProfile} />\r\n\t\t\t\t\t<Route path='/tasks' component={Tasks} />\r\n\t\t\t\t\t<Route path='/task' component={Task} />\r\n\t\t\t\t\t<Route path='/previewTask' component={PreviewTask} />\r\n\t\t\t\t\t<Route path='/teacher/:id' component={Teacher} />\r\n\t\t\t\t\t<Redirect to='/home' />\r\n\t\t\t\t</Switch>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route exact path='/' component={Main} />\r\n\t\t\t<Route path='/login' component={Login} />\r\n\t\t\t<Route path='/signup' component={Signup} />\r\n\t\t\t<Redirect to='/' />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport userInfoReducer from './reducers/userInfoSlice';\r\nimport subjectsReducer from './reducers/subjectsSlice';\r\nimport teachersSlice from './reducers/teachersSlice';\r\nimport taskSlice from './reducers/taskSlice';\r\nimport notificationSlice from './reducers/notificationSlice';\r\n\r\nexport default configureStore({\r\n\treducer: {\r\n\t\tuserInfo: userInfoReducer,\r\n\t\tsubjects: subjectsReducer,\r\n\t\tteachers: teachersSlice,\r\n\t\ttask: taskSlice,\r\n\t\tnotifications: notificationSlice,\r\n\t},\r\n});\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport './assets/css/index.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}